<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SISPIN - Sistem Informasi Sekolah Pintar</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <style>
        body {
            box-sizing: border-box;
        }
        .sidebar-transition {
            transition: transform 0.3s ease-in-out;
        }
        .fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .card-hover {
            transition: all 0.3s ease;
        }
        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .kebiasaan-card {
            background: linear-gradient(135deg, #4ade80 0%, #22c55e 100%);
        }
        .modal-backdrop {
            backdrop-filter: blur(4px);
        }
        .ticker-container {
            overflow: hidden;
            white-space: nowrap;
            width: 100%;
        }
        .ticker-text {
            display: inline-block;
            animation: ticker 20s linear infinite;
        }
        @keyframes ticker {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }
    </style>
</head>
<body class="bg-gray-50">
    <div id="app">
        <!-- Login Screen -->
        <div id="loginScreen" class="min-h-screen flex items-center justify-center gradient-bg">
            <div class="max-w-md w-full mx-4 p-8 bg-white rounded-2xl shadow-2xl">
                <div class="text-center mb-8">
                    <div class="w-20 h-20 mx-auto mb-4 bg-blue-600 rounded-full flex items-center justify-center">
                        <i data-lucide="school" class="text-white w-8 h-8"></i>
                    </div>
                    <h1 class="text-3xl font-bold text-gray-800">SISPIN</h1>
                    <p class="text-gray-600 mt-2">Sistem Informasi Sekolah Pintar</p>
                    <p class="text-sm text-gray-500 mt-1">SMA Negeri 20 Medan</p>
                </div>

                <form id="loginForm" class="space-y-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Role Pengguna</label>
                        <select id="roleSelect" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            <option value="Admin">Admin</option>
                            <option value="Kepala Sekolah">Kepala Sekolah</option>
                            <option value="Guru">Guru</option>
                            <option value="Siswa">Siswa</option>
                        </select>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                        <input type="email" id="emailInput" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Masukkan email Anda" required>
                    </div>

                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Password</label>
                        <input type="password" id="passwordInput" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Masukkan password Anda" required>
                    </div>

                    <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition duration-200 transform hover:scale-105">
                        Masuk ke SISPIN
                    </button>
                </form>

                <div class="mt-6 text-center text-sm text-gray-500">
                    <p>Demo Login - Gunakan email dan password apapun</p>
                </div>
            </div>
        </div>

        <!-- Dashboard -->
        <div id="dashboard" class="hidden min-h-screen bg-gray-50">
            <!-- Sidebar -->
            <div id="sidebar" class="fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform -translate-x-full lg:translate-x-0 sidebar-transition">
                <div class="flex items-center justify-between p-6 border-b border-gray-200">
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center">
                            <i data-lucide="school" class="text-white w-6 h-6"></i>
                        </div>
                        <div>
                            <h1 class="text-xl font-bold text-gray-800">SISPIN</h1>
                            <p class="text-xs text-gray-500">Sekolah Pintar</p>
                        </div>
                    </div>
                </div>

                <nav class="mt-6">
                    <button onclick="showPage('beranda')" class="menu-item w-full flex items-center px-6 py-3 text-left hover:bg-blue-50 transition-colors text-gray-700 hover:text-blue-600 bg-blue-50 text-blue-600 border-r-4 border-blue-600">
                        <i data-lucide="home" class="w-5 h-5 mr-3"></i>
                        <span class="text-sm font-medium">Beranda</span>
                    </button>
                    <button onclick="showPage('rpp')" class="menu-item w-full flex items-center px-6 py-3 text-left hover:bg-blue-50 transition-colors text-gray-700 hover:text-blue-600">
                        <i data-lucide="book-open" class="w-5 h-5 mr-3"></i>
                        <span class="text-sm font-medium">Perencanaan Intrakurikuler</span>
                    </button>
                    <button onclick="showPage('kokurikuler')" class="menu-item w-full flex items-center px-6 py-3 text-left hover:bg-blue-50 transition-colors text-gray-700 hover:text-blue-600">
                        <i data-lucide="activity" class="w-5 h-5 mr-3"></i>
                        <span class="text-sm font-medium">Perencanaan Kokurikuler</span>
                    </button>
                    <button onclick="showPage('wali')" class="menu-item w-full flex items-center px-6 py-3 text-left hover:bg-blue-50 transition-colors text-gray-700 hover:text-blue-600">
                        <i data-lucide="user-check" class="w-5 h-5 mr-3"></i>
                        <span class="text-sm font-medium">Data Guru Wali</span>
                    </button>
                    <button onclick="showPage('jurnal')" class="menu-item w-full flex items-center px-6 py-3 text-left hover:bg-blue-50 transition-colors text-gray-700 hover:text-blue-600">
                        <i data-lucide="file-text" class="w-5 h-5 mr-3"></i>
                        <span class="text-sm font-medium">Jurnal & Supervisi</span>
                    </button>
                    <button onclick="showPage('bimbingan')" class="menu-item w-full flex items-center px-6 py-3 text-left hover:bg-blue-50 transition-colors text-gray-700 hover:text-blue-600">
                        <i data-lucide="heart-handshake" class="w-5 h-5 mr-3"></i>
                        <span class="text-sm font-medium">Bimbingan Konseling</span>
                    </button>
                    <button onclick="showPage('manajemen')" class="menu-item w-full flex items-center px-6 py-3 text-left hover:bg-blue-50 transition-colors text-gray-700 hover:text-blue-600">
                        <i data-lucide="users" class="w-5 h-5 mr-3"></i>
                        <span class="text-sm font-medium">Manajemen Data</span>
                    </button>
                </nav>

                <div class="absolute bottom-0 w-full p-6 border-t border-gray-200">
                    <div class="flex items-center space-x-3 mb-4 text-gray-700">
                        <div class="w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center">
                            <i data-lucide="user" class="text-white w-4 h-4"></i>
                        </div>
                        <div>
                            <p class="text-sm font-medium" id="userName">Admin SISPIN</p>
                            <p class="text-xs text-gray-500" id="userRole">Admin</p>
                        </div>
                    </div>
                    <button onclick="logout()" class="w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors">
                        <i data-lucide="log-out" class="w-4 h-4 mr-2"></i>
                        Keluar
                    </button>
                </div>
            </div>

            <!-- Main Content -->
            <div class="lg:ml-64">
                <!-- Header -->
                <header class="bg-white shadow-sm border-b">
                    <div class="flex items-center justify-between px-6 py-4">
                        <div class="flex items-center space-x-4">
                            <button onclick="toggleSidebar()" class="lg:hidden p-2 rounded-lg text-gray-600 hover:bg-gray-100">
                                <i data-lucide="menu" class="w-5 h-5"></i>
                            </button>
                            <h2 class="text-xl font-semibold text-gray-800" id="pageTitle">Beranda</h2>
                        </div>
                        <div class="flex items-center space-x-4">
                            <button class="p-2 rounded-lg text-gray-600 hover:bg-gray-100 relative">
                                <i data-lucide="bell" class="w-5 h-5"></i>
                                <span class="absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full"></span>
                            </button>
                        </div>
                    </div>
                </header>

                <!-- Page Content -->
                <main class="p-6">
                    <!-- Beranda Page -->
                    <div id="berandaPage" class="page-content space-y-6">
                        <!-- Welcome Section -->
                        <div class="bg-white rounded-xl shadow-sm p-8">
                            <div class="flex items-center space-x-6">
                                <div class="w-20 h-20 gradient-bg rounded-xl flex items-center justify-center">
                                    <i data-lucide="school" class="text-white w-10 h-10"></i>
                                </div>
                                <div>
                                    <h1 class="text-3xl font-bold text-gray-800">Selamat Datang di SISPIN</h1>
                                    <p class="text-lg text-gray-600 mt-2">Sistem Informasi Sekolah Pintar - SMA Negeri 20 Medan</p>
                                    <p class="text-gray-500 mt-2 italic">"Menjadi sekolah unggulan yang mencetak lulusan berkarakter, kolaboratif, serta memajukan kearifan lokal"</p>
                                </div>
                            </div>
                        </div>

                        <!-- Statistics Cards -->
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4">
                            <div class="bg-white rounded-xl shadow-sm p-6 card-hover">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-sm font-medium text-gray-500">Siswa Kelas X</p>
                                        <p class="text-3xl font-bold text-gray-900 mt-2">160</p>
                                    </div>
                                    <div class="w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center">
                                        <i data-lucide="graduation-cap" class="text-white w-6 h-6"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-white rounded-xl shadow-sm p-6 card-hover">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-sm font-medium text-gray-500">Siswa Kelas XI</p>
                                        <p class="text-3xl font-bold text-gray-900 mt-2">149</p>
                                    </div>
                                    <div class="w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center">
                                        <i data-lucide="graduation-cap" class="text-white w-6 h-6"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-white rounded-xl shadow-sm p-6 card-hover">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-sm font-medium text-gray-500">Siswa Kelas XII</p>
                                        <p class="text-3xl font-bold text-gray-900 mt-2">164</p>
                                    </div>
                                    <div class="w-12 h-12 bg-purple-500 rounded-lg flex items-center justify-center">
                                        <i data-lucide="graduation-cap" class="text-white w-6 h-6"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-white rounded-xl shadow-sm p-6 card-hover">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-sm font-medium text-gray-500">Total Guru</p>
                                        <p class="text-3xl font-bold text-gray-900 mt-2">32</p>
                                    </div>
                                    <div class="w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center">
                                        <i data-lucide="users" class="text-white w-6 h-6"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-white rounded-xl shadow-sm p-6 card-hover">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-sm font-medium text-gray-500">Rombel (Kelas)</p>
                                        <p class="text-3xl font-bold text-gray-900 mt-2">13</p>
                                    </div>
                                    <div class="w-12 h-12 bg-indigo-500 rounded-lg flex items-center justify-center">
                                        <i data-lucide="home" class="text-white w-6 h-6"></i>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Total Summary Card -->
                        <div class="gradient-bg rounded-xl shadow-sm p-6 text-white">
                            <div class="flex items-center justify-between">
                                <div>
                                    <h3 class="text-2xl font-bold">Total Siswa SMA Negeri 20 Medan</h3>
                                    <p class="text-blue-100 mt-1">Keseluruhan siswa aktif tahun ajaran 2024/2025</p>
                                </div>
                                <div class="text-right">
                                    <div class="text-4xl font-bold">473</div>
                                    <div class="text-blue-100 text-sm">Siswa Aktif</div>
                                </div>
                            </div>
                            <div class="grid grid-cols-3 gap-4 mt-6 pt-6 border-t border-blue-400">
                                <div class="text-center">
                                    <div class="text-xl font-semibold">160</div>
                                    <div class="text-blue-100 text-sm">Kelas X</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-xl font-semibold">149</div>
                                    <div class="text-blue-100 text-sm">Kelas XI</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-xl font-semibold">164</div>
                                    <div class="text-blue-100 text-sm">Kelas XII</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Kokurikuler Page -->
                    <div id="kokurikulerPage" class="page-content hidden space-y-6">
                        <!-- Header -->
                        <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0">
                            <div>
                                <h2 class="text-2xl font-bold text-gray-800">Perencanaan Kokurikuler</h2>
                                <p class="text-gray-600 mt-1">Kelola kegiatan kokurikuler dan kebiasaan siswa</p>
                            </div>
                        </div>

                        <!-- Tabs -->
                        <div class="bg-white rounded-xl shadow-sm">
                            <div class="flex border-b border-gray-200">
                                <button onclick="showKokurikulerTab('kegiatan')" class="kokurikuler-tab flex items-center px-6 py-4 text-sm font-medium border-b-2 transition-colors border-blue-500 text-blue-600">
                                    <i data-lucide="activity" class="w-5 h-5 mr-2"></i>
                                    Kegiatan Kokurikuler
                                </button>
                                <button onclick="showKokurikulerTab('kebiasaan')" class="kokurikuler-tab flex items-center px-6 py-4 text-sm font-medium border-b-2 transition-colors border-transparent text-gray-500 hover:text-gray-700">
                                    <i data-lucide="clipboard-list" class="w-5 h-5 mr-2"></i>
                                    Tujuh Kebiasaan Anak Indonesia Hebat
                                </button>
                            </div>

                            <!-- Kegiatan Tab Content -->
                            <div id="kegiatanTab" class="tab-content p-6">
                                <div class="flex justify-between items-center mb-6">
                                    <h3 class="text-lg font-semibold text-gray-800">Kegiatan Kokurikuler</h3>
                                    <button onclick="showAddKegiatanModal()" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors">
                                        <i data-lucide="plus" class="w-5 h-5"></i>
                                        <span>Tambah Kegiatan</span>
                                    </button>
                                </div>

                                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="kegiatanList">
                                    <!-- Kegiatan cards will be populated by JavaScript -->
                                </div>
                            </div>

                            <!-- Kebiasaan Tab Content -->
                            <div id="kebiasaanTab" class="tab-content hidden p-6">
                                <!-- Info Card -->
                                <div class="kebiasaan-card rounded-xl shadow-sm p-6 text-white mb-6">
                                    <h3 class="text-xl font-bold mb-2">Tujuh Kebiasaan Anak Indonesia Hebat</h3>
                                    <p class="text-green-100">Program pembiasaan untuk membentuk karakter siswa yang unggul dan berkarakter Indonesia</p>
                                </div>

                                <!-- Date and Class Selector -->
                                <div class="bg-white rounded-xl shadow-sm p-6 mb-6">
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Tanggal</label>
                                            <input type="date" id="kebiasaanDate" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Kelas</label>
                                            <select id="kebiasaanKelas" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                                                <option value="XI-1">XI-1</option>
                                                <option value="XI-2">XI-2</option>
                                                <option value="XI-3">XI-3</option>
                                                <option value="XI-4">XI-4</option>
                                                <option value="XI-5">XI-5</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>

                                <!-- Kebiasaan Cards -->
                                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mb-6" id="kebiasaanCards">
                                    <!-- Kebiasaan cards will be populated by JavaScript -->
                                </div>

                                <!-- Student List Preview -->
                                <div class="bg-white rounded-xl shadow-sm p-6">
                                    <h3 class="text-lg font-semibold text-gray-800 mb-4" id="studentListTitle">Daftar Siswa XI-1 (29 siswa)</h3>
                                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 max-h-60 overflow-y-auto" id="studentList">
                                        <!-- Student list will be populated by JavaScript -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- RPP/Modul Ajar Page -->
                    <div id="rppPage" class="page-content hidden space-y-6">
                        <!-- Header -->
                        <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0">
                            <div>
                                <h2 class="text-2xl font-bold text-gray-800">Perencanaan Intrakurikuler</h2>
                                <p class="text-gray-600 mt-1">Kelola Modul Ajar dan Rencana Pelaksanaan Pembelajaran</p>
                            </div>
                            <button onclick="showAddModulModal()" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors">
                                <i data-lucide="plus" class="w-5 h-5"></i>
                                <span>Buat Modul Ajar</span>
                            </button>
                        </div>

                        <!-- Filter and Search -->
                        <div class="bg-white rounded-xl shadow-sm p-6">
                            <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Mata Pelajaran</label>
                                    <select id="filterMapel" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                        <option value="">Semua Mata Pelajaran</option>
                                        <option value="Matematika">Matematika</option>
                                        <option value="Bahasa Indonesia">Bahasa Indonesia</option>
                                        <option value="Bahasa Inggris">Bahasa Inggris</option>
                                        <option value="Fisika">Fisika</option>
                                        <option value="Kimia">Kimia</option>
                                        <option value="Biologi">Biologi</option>
                                        <option value="Sejarah">Sejarah</option>
                                        <option value="Geografi">Geografi</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Kelas</label>
                                    <select id="filterKelas" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                        <option value="">Semua Kelas</option>
                                        <option value="X">Kelas X</option>
                                        <option value="XI">Kelas XI</option>
                                        <option value="XII">Kelas XII</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Status</label>
                                    <select id="filterStatus" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                        <option value="">Semua Status</option>
                                        <option value="draft">Draft</option>
                                        <option value="review">Review</option>
                                        <option value="approved">Disetujui</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Cari Modul</label>
                                    <input type="text" id="searchModul" placeholder="Cari judul modul..." class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                </div>
                            </div>
                        </div>

                        <!-- Modul List -->
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="modulList">
                            <!-- Modul cards will be populated by JavaScript -->
                        </div>
                    </div>

                    <!-- Data Guru Wali Page -->
                    <div id="waliPage" class="page-content hidden space-y-6">
                        <!-- Header -->
                        <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0">
                            <div>
                                <h2 class="text-2xl font-bold text-gray-800">Data Guru Wali</h2>
                                <p class="text-gray-600 mt-1">SMA Negeri 20 Medan - Sistem Manajemen Data Siswa Wali Kelas</p>
                            </div>
                        </div>

                        <!-- Quick Stats -->
                        <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                            <div class="bg-white rounded-xl shadow-sm p-6 card-hover border-l-4 border-blue-500">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-sm font-medium text-gray-500">Total Siswa</p>
                                        <p class="text-2xl font-bold text-gray-900 mt-1" id="totalSiswaWali">0</p>
                                    </div>
                                    <div class="w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center">
                                        <i data-lucide="users" class="text-white w-5 h-5"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-white rounded-xl shadow-sm p-6 card-hover border-l-4 border-green-500">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-sm font-medium text-gray-500">Hadir Hari Ini</p>
                                        <p class="text-2xl font-bold text-gray-900 mt-1" id="hadirHariIni">0</p>
                                    </div>
                                    <div class="w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center">
                                        <i data-lucide="check-circle" class="text-white w-5 h-5"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-white rounded-xl shadow-sm p-6 card-hover border-l-4 border-orange-500">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-sm font-medium text-gray-500">Perlu Perhatian</p>
                                        <p class="text-2xl font-bold text-gray-900 mt-1" id="perluPerhatian">0</p>
                                    </div>
                                    <div class="w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center">
                                        <i data-lucide="alert-triangle" class="text-white w-5 h-5"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-white rounded-xl shadow-sm p-6 card-hover border-l-4 border-purple-500">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-sm font-medium text-gray-500">Prestasi Bulan Ini</p>
                                        <p class="text-2xl font-bold text-gray-900 mt-1" id="prestasiBulan">0</p>
                                    </div>
                                    <div class="w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center">
                                        <i data-lucide="trophy" class="text-white w-5 h-5"></i>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Filter and Search -->
                        <div class="bg-white rounded-xl shadow-sm p-6">
                            <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Guru Wali</label>
                                    <select id="filterGuruWali" onchange="loadSiswaWali()" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                        <option value="">Semua Guru Wali</option>
                                        <option value="HANANI RISNAYATI, S.Ag">HANANI RISNAYATI, S.Ag</option>
                                        <option value="MANGASA LUBIS, S.Pd">MANGASA LUBIS, S.Pd</option>
                                        <option value="RISMAWANI, S.Pd">RISMAWANI, S.Pd</option>
                                        <option value="DORTAULI H. SIMBOLON, S.Pd">DORTAULI H. SIMBOLON, S.Pd</option>
                                        <option value="ITA MAWARNI, SH">ITA MAWARNI, SH</option>
                                        <option value="SRI MARYATI. S.Pd.I">SRI MARYATI. S.Pd.I</option>
                                        <option value="NUR PUJI ASTUTIK,S.Pd">NUR PUJI ASTUTIK,S.Pd</option>
                                        <option value="IRMA WAHYUNI, S.Pd">IRMA WAHYUNI, S.Pd</option>
                                        <option value="HANNA MORYANI MUNTHE, S.Pd">HANNA MORYANI MUNTHE, S.Pd</option>
                                        <option value="MAHANIM, S.Pd">MAHANIM, S.Pd</option>
                                        <option value="ALI AKBAR, S.E">ALI AKBAR, S.E</option>
                                        <option value="PUJI ASTUTI, S.Kom">PUJI ASTUTI, S.Kom</option>
                                        <option value="AISIYAH ELIDA, S.Pd">AISIYAH ELIDA, S.Pd</option>
                                        <option value="TEGUH PRASETYO, S.Pd">TEGUH PRASETYO, S.Pd</option>
                                        <option value="RINI MINARTI , S.Pd">RINI MINARTI , S.Pd</option>
                                        <option value="BAWADI C C SINAMBELA, S.Pd">BAWADI C C SINAMBELA, S.Pd</option>
                                        <option value="CAHAYA HAIRANI NASUTION, M.Pd">CAHAYA HAIRANI NASUTION, M.Pd</option>
                                        <option value="NOVITA MAGDALENA, S.PAK">NOVITA MAGDALENA, S.PAK</option>
                                        <option value="ANGELI OKTAVIA T. SIREGAR, S.Pd">ANGELI OKTAVIA T. SIREGAR, S.Pd</option>
                                        <option value="HEMI ANGGI MAWADDAH, S.Pd.I">HEMI ANGGI MAWADDAH, S.Pd.I</option>
                                        <option value="RUZSANI, S.Pd">RUZSANI, S.Pd</option>
                                        <option value="Dra. NURUL IKHLAS NASUTION">Dra. NURUL IKHLAS NASUTION</option>
                                        <option value="SITI KHOLIJAH, S.Pd">SITI KHOLIJAH, S.Pd</option>
                                        <option value="WANTI DEBORA MALAU, S.Pd">WANTI DEBORA MALAU, S.Pd</option>
                                        <option value="MURTIANA SILALAHI, S.S">MURTIANA SILALAHI, S.S</option>
                                        <option value="NUR AZIZAH VIBRIANI, S.Pd">NUR AZIZAH VIBRIANI, S.Pd</option>
                                        <option value="MASDALENA S HARAHAP, M.Pd">MASDALENA S HARAHAP, M.Pd</option>
                                        <option value="NUZNI LUBIS,S.Psi">NUZNI LUBIS,S.Psi</option>
                                        <option value="RAHMAT HIDAYAT, S.Pd">RAHMAT HIDAYAT, S.Pd</option>
                                        <option value="ABDUL MALIK,S.Pd. M.P.Si">ABDUL MALIK,S.Pd. M.P.Si</option>
                                        <option value="SELVI ALFIANTI, S.Pd">SELVI ALFIANTI, S.Pd</option>
                                        <option value="EDY RISWANTO, S.Pd">EDY RISWANTO, S.Pd</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Kelas</label>
                                    <select id="filterKelasWali" onchange="loadSiswaWali()" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                        <option value="">Semua Kelas</option>
                                        <option value="X-1">X-1</option>
                                        <option value="X-2">X-2</option>
                                        <option value="X-3">X-3</option>
                                        <option value="X-4">X-4</option>
                                        <option value="XI-1">XI-1</option>
                                        <option value="XI-2">XI-2</option>
                                        <option value="XI-3">XI-3</option>
                                        <option value="XI-4">XI-4</option>
                                        <option value="XI-5">XI-5</option>
                                        <option value="XII-1">XII-1</option>
                                        <option value="XII-2">XII-2</option>
                                        <option value="XII-3">XII-3</option>
                                        <option value="XII-4">XII-4</option>
                                        <option value="XII-5">XII-5</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Tanggal</label>
                                    <input type="date" id="filterTanggalWali" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Cari Siswa</label>
                                    <input type="text" id="searchSiswa" onkeyup="searchSiswaWali()" placeholder="Cari nama siswa..." class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                </div>
                            </div>
                        </div>

                        <!-- Tabs -->
                        <div class="bg-white rounded-xl shadow-sm">
                            <div class="flex border-b border-gray-200">
                                <button onclick="showWaliTab('daftar')" class="wali-tab flex items-center px-6 py-4 text-sm font-medium border-b-2 transition-colors border-blue-500 text-blue-600">
                                    <i data-lucide="users" class="w-5 h-5 mr-2"></i>
                                    Daftar Siswa
                                </button>
                                <button onclick="showWaliTab('kehadiran')" class="wali-tab flex items-center px-6 py-4 text-sm font-medium border-b-2 transition-colors border-transparent text-gray-500 hover:text-gray-700">
                                    <i data-lucide="check-square" class="w-5 h-5 mr-2"></i>
                                    Input Kehadiran
                                </button>
                                <button onclick="showWaliTab('perilaku')" class="wali-tab flex items-center px-6 py-4 text-sm font-medium border-b-2 transition-colors border-transparent text-gray-500 hover:text-gray-700">
                                    <i data-lucide="clipboard-list" class="w-5 h-5 mr-2"></i>
                                    Catatan Perilaku & Karakter
                                </button>
                                <button onclick="showWaliTab('rekap')" class="wali-tab flex items-center px-6 py-4 text-sm font-medium border-b-2 transition-colors border-transparent text-gray-500 hover:text-gray-700">
                                    <i data-lucide="bar-chart-3" class="w-5 h-5 mr-2"></i>
                                    Rekap Kehadiran
                                </button>
                            </div>

                            <!-- Daftar Siswa Tab -->
                            <div id="daftarTab" class="tab-content p-6">
                                <div class="flex justify-between items-center mb-6">
                                    <h3 class="text-lg font-semibold text-gray-800">Daftar Siswa</h3>
                                    <button onclick="showAddSiswaModal()" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors">
                                        <i data-lucide="plus" class="w-5 h-5"></i>
                                        <span>Tambah Siswa</span>
                                    </button>
                                </div>

                                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="siswaWaliList">
                                    <!-- Siswa cards will be populated by JavaScript -->
                                </div>
                            </div>

                            <!-- Input Kehadiran Tab -->
                            <div id="kehadiranTab" class="tab-content hidden p-6">
                                <div class="bg-green-50 rounded-lg p-6 mb-6">
                                    <h3 class="text-lg font-semibold text-green-800 mb-4 flex items-center">
                                        <i data-lucide="check-square" class="w-5 h-5 mr-2"></i>
                                        Input Kehadiran Harian
                                    </h3>
                                    
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Tanggal</label>
                                            <input type="date" id="tanggalKehadiran" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Kelas</label>
                                            <select id="kelasKehadiran" onchange="loadKehadiranSiswa()" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                                                <option value="">Pilih Kelas</option>
                                                <option value="X-1">X-1</option>
                                                <option value="X-2">X-2</option>
                                                <option value="X-3">X-3</option>
                                                <option value="X-4">X-4</option>
                                                <option value="XI-1">XI-1</option>
                                                <option value="XI-2">XI-2</option>
                                                <option value="XI-3">XI-3</option>
                                                <option value="XI-4">XI-4</option>
                                                <option value="XI-5">XI-5</option>
                                                <option value="XII-1">XII-1</option>
                                                <option value="XII-2">XII-2</option>
                                                <option value="XII-3">XII-3</option>
                                                <option value="XII-4">XII-4</option>
                                                <option value="XII-5">XII-5</option>
                                            </select>
                                        </div>
                                    </div>
                                    
                                    <div id="kehadiranSiswaList" class="hidden">
                                        <!-- Kehadiran table will be populated by JavaScript -->
                                    </div>
                                    
                                    <button onclick="simpanKehadiran()" class="mt-4 bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg transition-colors">
                                        Simpan Kehadiran
                                    </button>
                                </div>
                            </div>

                            <!-- Catatan Perilaku Tab -->
                            <div id="perilakuTab" class="tab-content hidden p-6">
                                <div class="flex justify-between items-center mb-6">
                                    <h3 class="text-lg font-semibold text-gray-800">Catatan Perilaku, Kedisiplinan, dan Karakter</h3>
                                    <button onclick="showAddCatatanModal()" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors">
                                        <i data-lucide="plus" class="w-5 h-5"></i>
                                        <span>Tambah Catatan</span>
                                    </button>
                                </div>

                                <div class="space-y-4" id="catatanPerilakuList">
                                    <!-- Catatan cards will be populated by JavaScript -->
                                </div>
                            </div>

                            <!-- Rekap Kehadiran Tab -->
                            <div id="rekapTab" class="tab-content hidden p-6">
                                <div class="bg-purple-50 rounded-lg p-6 mb-6">
                                    <h3 class="text-lg font-semibold text-purple-800 mb-4 flex items-center">
                                        <i data-lucide="bar-chart-3" class="w-5 h-5 mr-2"></i>
                                        Rekap Kehadiran Mingguan & Bulanan
                                    </h3>
                                    
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Periode</label>
                                            <select id="periodeRekap" onchange="loadRekapKehadiran()" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                                                <option value="minggu">Minggu Ini</option>
                                                <option value="bulan">Bulan Ini</option>
                                                <option value="semester">Semester Ini</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Kelas</label>
                                            <select id="kelasRekap" onchange="loadRekapKehadiran()" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                                                <option value="">Semua Kelas</option>
                                                <option value="X-1">X-1</option>
                                                <option value="X-2">X-2</option>
                                                <option value="X-3">X-3</option>
                                                <option value="X-4">X-4</option>
                                                <option value="XI-1">XI-1</option>
                                                <option value="XI-2">XI-2</option>
                                                <option value="XI-3">XI-3</option>
                                                <option value="XI-4">XI-4</option>
                                                <option value="XI-5">XI-5</option>
                                                <option value="XII-1">XII-1</option>
                                                <option value="XII-2">XII-2</option>
                                                <option value="XII-3">XII-3</option>
                                                <option value="XII-4">XII-4</option>
                                                <option value="XII-5">XII-5</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                
                                <div id="rekapKehadiranChart">
                                    <!-- Chart will be populated by JavaScript -->
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Jurnal Page -->
                    <div id="jurnalPage" class="page-content hidden space-y-6">
                        <!-- Header -->
                        <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0">
                            <div>
                                <h2 class="text-2xl font-bold text-gray-800">Jurnal Mengajar Online</h2>
                                <p class="text-gray-600 mt-1">SMA Negeri 20 Medan - Sistem Pencatatan Kegiatan Pembelajaran</p>
                                <div class="flex items-center space-x-4 mt-2 text-sm text-gray-500">
                                    <span id="currentDateTime" class="flex items-center">
                                        <i data-lucide="clock" class="w-4 h-4 mr-1"></i>
                                        Loading...
                                    </span>
                                    <span class="flex items-center">
                                        <i data-lucide="user" class="w-4 h-4 mr-1"></i>
                                        <span id="currentTeacher">Pilih Nama Guru</span>
                                    </span>
                                </div>
                            </div>
                            <button onclick="showAddJurnalModal()" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors">
                                <i data-lucide="plus" class="w-5 h-5"></i>
                                <span>Buat Jurnal Baru</span>
                            </button>
                        </div>

                        <!-- Quick Stats -->
                        <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                            <div class="bg-white rounded-xl shadow-sm p-6 card-hover border-l-4 border-blue-500">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-sm font-medium text-gray-500">Jurnal Hari Ini</p>
                                        <p class="text-2xl font-bold text-gray-900 mt-1" id="todayJournals">0</p>
                                    </div>
                                    <div class="w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center">
                                        <i data-lucide="file-text" class="text-white w-5 h-5"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-white rounded-xl shadow-sm p-6 card-hover border-l-4 border-green-500">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-sm font-medium text-gray-500">Minggu Ini</p>
                                        <p class="text-2xl font-bold text-gray-900 mt-1" id="weekJournals">0</p>
                                    </div>
                                    <div class="w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center">
                                        <i data-lucide="calendar-days" class="text-white w-5 h-5"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-white rounded-xl shadow-sm p-6 card-hover border-l-4 border-purple-500">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-sm font-medium text-gray-500">Total Jurnal</p>
                                        <p class="text-2xl font-bold text-gray-900 mt-1" id="totalJournals">0</p>
                                    </div>
                                    <div class="w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center">
                                        <i data-lucide="book-open" class="text-white w-5 h-5"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-white rounded-xl shadow-sm p-6 card-hover border-l-4 border-orange-500">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-sm font-medium text-gray-500">Pending Review</p>
                                        <p class="text-2xl font-bold text-gray-900 mt-1" id="pendingReview">0</p>
                                    </div>
                                    <div class="w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center">
                                        <i data-lucide="clock" class="text-white w-5 h-5"></i>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Filter and Search -->
                        <div class="bg-white rounded-xl shadow-sm p-6">
                            <div class="grid grid-cols-1 md:grid-cols-5 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Nama Guru</label>
                                    <select id="filterGuru" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                        <option value="">Semua Guru</option>
                                        <option value="HANANI RISNAYATI, S.Ag">HANANI RISNAYATI, S.Ag</option>
                                        <option value="MANGASA LUBIS, S.Pd">MANGASA LUBIS, S.Pd</option>
                                        <option value="RISMAWANI, S.Pd">RISMAWANI, S.Pd</option>
                                        <option value="DORTAULI H. SIMBOLON, S.Pd">DORTAULI H. SIMBOLON, S.Pd</option>
                                        <option value="ITA MAWARNI, SH">ITA MAWARNI, SH</option>
                                        <option value="SRI MARYATI. S.Pd.I">SRI MARYATI. S.Pd.I</option>
                                        <option value="NUR PUJI ASTUTIK,S.Pd">NUR PUJI ASTUTIK,S.Pd</option>
                                        <option value="IRMA WAHYUNI, S.Pd">IRMA WAHYUNI, S.Pd</option>
                                        <option value="HANNA MORYANI MUNTHE, S.Pd">HANNA MORYANI MUNTHE, S.Pd</option>
                                        <option value="MAHANIM, S.Pd">MAHANIM, S.Pd</option>
                                        <option value="ALI AKBAR, S.E">ALI AKBAR, S.E</option>
                                        <option value="PUJI ASTUTI, S.Kom">PUJI ASTUTI, S.Kom</option>
                                        <option value="AISIYAH ELIDA, S.Pd">AISIYAH ELIDA, S.Pd</option>
                                        <option value="TEGUH PRASETYO, S.Pd">TEGUH PRASETYO, S.Pd</option>
                                        <option value="RINI MINARTI , S.Pd">RINI MINARTI , S.Pd</option>
                                        <option value="BAWADI C C SINAMBELA, S.Pd">BAWADI C C SINAMBELA, S.Pd</option>
                                        <option value="CAHAYA HAIRANI NASUTION, M.Pd">CAHAYA HAIRANI NASUTION, M.Pd</option>
                                        <option value="NOVITA MAGDALENA, S.PAK">NOVITA MAGDALENA, S.PAK</option>
                                        <option value="ANGELI OKTAVIA T. SIREGAR, S.Pd">ANGELI OKTAVIA T. SIREGAR, S.Pd</option>
                                        <option value="HEMI ANGGI MAWADDAH, S.Pd.I">HEMI ANGGI MAWADDAH, S.Pd.I</option>
                                        <option value="RUZSANI, S.Pd">RUZSANI, S.Pd</option>
                                        <option value="Dra. NURUL IKHLAS NASUTION">Dra. NURUL IKHLAS NASUTION</option>
                                        <option value="SITI KHOLIJAH, S.Pd">SITI KHOLIJAH, S.Pd</option>
                                        <option value="WANTI DEBORA MALAU, S.Pd">WANTI DEBORA MALAU, S.Pd</option>
                                        <option value="MURTIANA SILALAHI, S.S">MURTIANA SILALAHI, S.S</option>
                                        <option value="NUR AZIZAH VIBRIANI, S.Pd">NUR AZIZAH VIBRIANI, S.Pd</option>
                                        <option value="MASDALENA S HARAHAP, M.Pd">MASDALENA S HARAHAP, M.Pd</option>
                                        <option value="NUZNI LUBIS,S.Psi">NUZNI LUBIS,S.Psi</option>
                                        <option value="RAHMAT HIDAYAT, S.Pd">RAHMAT HIDAYAT, S.Pd</option>
                                        <option value="ABDUL MALIK,S.Pd. M.P.Si">ABDUL MALIK,S.Pd. M.P.Si</option>
                                        <option value="SELVI ALFIANTI, S.Pd">SELVI ALFIANTI, S.Pd</option>
                                        <option value="EDY RISWANTO, S.Pd">EDY RISWANTO, S.Pd</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Kelas</label>
                                    <select id="filterKelasJurnal" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                        <option value="">Semua Kelas</option>
                                        <option value="X-1">X-1</option>
                                        <option value="X-2">X-2</option>
                                        <option value="X-3">X-3</option>
                                        <option value="X-4">X-4</option>
                                        <option value="XI-1">XI-1</option>
                                        <option value="XI-2">XI-2</option>
                                        <option value="XI-3">XI-3</option>
                                        <option value="XI-4">XI-4</option>
                                        <option value="XI-5">XI-5</option>
                                        <option value="XII-1">XII-1</option>
                                        <option value="XII-2">XII-2</option>
                                        <option value="XII-3">XII-3</option>
                                        <option value="XII-4">XII-4</option>
                                        <option value="XII-5">XII-5</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Tanggal</label>
                                    <input type="date" id="filterTanggal" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Status</label>
                                    <select id="filterStatusJurnal" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                        <option value="">Semua Status</option>
                                        <option value="draft">Draft</option>
                                        <option value="submitted">Terkirim</option>
                                        <option value="reviewed">Direview</option>
                                        <option value="approved">Disetujui</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Cari Jurnal</label>
                                    <input type="text" id="searchJurnal" placeholder="Cari mata pelajaran..." class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                </div>
                            </div>
                        </div>

                        <!-- Jurnal List -->
                        <div class="space-y-4" id="jurnalList">
                            <!-- Jurnal cards will be populated by JavaScript -->
                        </div>

                        <!-- Vision Statement Ticker -->
                        <div class="bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl shadow-sm p-4 text-white overflow-hidden">
                            <div class="flex items-center space-x-4">
                                <div class="flex items-center space-x-2 flex-shrink-0">
                                    <i data-lucide="star" class="w-5 h-5"></i>
                                    <span class="font-semibold">VISI SMA NEGERI 20 MEDAN:</span>
                                </div>
                                <div class="ticker-container">
                                    <div class="ticker-text">
                                        Menjadi sekolah unggulan yang mencetak lulusan berkarakter, kolaboratif, serta memajukan kearifan lokal
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Bimbingan Konseling Page -->
                    <div id="bimbinganPage" class="page-content hidden space-y-6">
                        <!-- Header -->
                        <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0">
                            <div>
                                <h2 class="text-2xl font-bold text-gray-800">Bimbingan Konseling</h2>
                                <p class="text-gray-600 mt-1">SMA Negeri 20 Medan - Sistem Absensi dan Monitoring Siswa</p>
                            </div>
                            <button onclick="showAddAbsensiModal()" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors">
                                <i data-lucide="plus" class="w-5 h-5"></i>
                                <span>Input Absensi</span>
                            </button>
                        </div>

                        <!-- Quick Stats -->
                        <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                            <div class="bg-white rounded-xl shadow-sm p-6 card-hover border-l-4 border-green-500">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-sm font-medium text-gray-500">Total Hadir Hari Ini</p>
                                        <p class="text-2xl font-bold text-gray-900 mt-1" id="totalHadirHariIni">0</p>
                                    </div>
                                    <div class="w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center">
                                        <i data-lucide="check-circle" class="text-white w-5 h-5"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-white rounded-xl shadow-sm p-6 card-hover border-l-4 border-red-500">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-sm font-medium text-gray-500">Total Sakit</p>
                                        <p class="text-2xl font-bold text-gray-900 mt-1" id="totalSakit">0</p>
                                    </div>
                                    <div class="w-10 h-10 bg-red-500 rounded-lg flex items-center justify-center">
                                        <i data-lucide="heart-pulse" class="text-white w-5 h-5"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-white rounded-xl shadow-sm p-6 card-hover border-l-4 border-yellow-500">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-sm font-medium text-gray-500">Total Izin</p>
                                        <p class="text-2xl font-bold text-gray-900 mt-1" id="totalIzin">0</p>
                                    </div>
                                    <div class="w-10 h-10 bg-yellow-500 rounded-lg flex items-center justify-center">
                                        <i data-lucide="clock" class="text-white w-5 h-5"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-white rounded-xl shadow-sm p-6 card-hover border-l-4 border-gray-500">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-sm font-medium text-gray-500">Total Alpha</p>
                                        <p class="text-2xl font-bold text-gray-900 mt-1" id="totalAlpha">0</p>
                                    </div>
                                    <div class="w-10 h-10 bg-gray-500 rounded-lg flex items-center justify-center">
                                        <i data-lucide="x-circle" class="text-white w-5 h-5"></i>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Filter and Search -->
                        <div class="bg-white rounded-xl shadow-sm p-6">
                            <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Guru BK</label>
                                    <select id="filterGuruBK" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                        <option value="">Semua Guru BK</option>
                                        <option value="ABDUL MALIK, S.Pd">ABDUL MALIK, S.Pd</option>
                                        <option value="NUZNI LUBIS, S.Pd">NUZNI LUBIS, S.Pd</option>
                                        <option value="RAHMAT HIDAYAT, S.Pd">RAHMAT HIDAYAT, S.Pd</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Kelas</label>
                                    <select id="filterKelasBK" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                        <option value="">Semua Kelas</option>
                                        <option value="X-1">X-1</option>
                                        <option value="X-2">X-2</option>
                                        <option value="X-3">X-3</option>
                                        <option value="X-4">X-4</option>
                                        <option value="XI-1">XI-1</option>
                                        <option value="XI-2">XI-2</option>
                                        <option value="XI-3">XI-3</option>
                                        <option value="XI-4">XI-4</option>
                                        <option value="XI-5">XI-5</option>
                                        <option value="XII-1">XII-1</option>
                                        <option value="XII-2">XII-2</option>
                                        <option value="XII-3">XII-3</option>
                                        <option value="XII-4">XII-4</option>
                                        <option value="XII-5">XII-5</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Tanggal</label>
                                    <input type="date" id="filterTanggalBK" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Filter</label>
                                    <button onclick="filterAbsensi()" class="w-full bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg transition-colors">
                                        <i data-lucide="filter" class="w-4 h-4 mr-1 inline"></i>
                                        Terapkan Filter
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Absensi List -->
                        <div class="space-y-4" id="absensiList">
                            <!-- Absensi cards will be populated by JavaScript -->
                        </div>
                    </div>

                    <div id="manajemenPage" class="page-content hidden space-y-6">
                        <!-- Header -->
                        <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0">
                            <div>
                                <h2 class="text-2xl font-bold text-gray-800">Manajemen Data</h2>
                                <p class="text-gray-600 mt-1">SMA Negeri 20 Medan - Kelola Data Guru dan Siswa</p>
                            </div>
                        </div>

                        <!-- Quick Stats -->
                        <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                            <div class="bg-white rounded-xl shadow-sm p-6 card-hover border-l-4 border-blue-500">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-sm font-medium text-gray-500">Total Guru</p>
                                        <p class="text-2xl font-bold text-gray-900 mt-1" id="totalGuruManajemen">32</p>
                                    </div>
                                    <div class="w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center">
                                        <i data-lucide="user-check" class="text-white w-5 h-5"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-white rounded-xl shadow-sm p-6 card-hover border-l-4 border-green-500">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-sm font-medium text-gray-500">Total Siswa</p>
                                        <p class="text-2xl font-bold text-gray-900 mt-1" id="totalSiswaManajemen">473</p>
                                    </div>
                                    <div class="w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center">
                                        <i data-lucide="graduation-cap" class="text-white w-5 h-5"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-white rounded-xl shadow-sm p-6 card-hover border-l-4 border-purple-500">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-sm font-medium text-gray-500">Total Kelas</p>
                                        <p class="text-2xl font-bold text-gray-900 mt-1" id="totalKelasManajemen">13</p>
                                    </div>
                                    <div class="w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center">
                                        <i data-lucide="home" class="text-white w-5 h-5"></i>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-white rounded-xl shadow-sm p-6 card-hover border-l-4 border-orange-500">
                                <div class="flex items-center justify-between">
                                    <div>
                                        <p class="text-sm font-medium text-gray-500">Guru Aktif</p>
                                        <p class="text-2xl font-bold text-gray-900 mt-1" id="guruAktifManajemen">32</p>
                                    </div>
                                    <div class="w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center">
                                        <i data-lucide="users" class="text-white w-5 h-5"></i>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Tabs -->
                        <div class="bg-white rounded-xl shadow-sm">
                            <div class="flex border-b border-gray-200">
                                <button onclick="showManajemenTab('guru')" class="manajemen-tab flex items-center px-6 py-4 text-sm font-medium border-b-2 transition-colors border-blue-500 text-blue-600">
                                    <i data-lucide="user-check" class="w-5 h-5 mr-2"></i>
                                    Data Guru
                                </button>
                                <button onclick="showManajemenTab('siswa')" class="manajemen-tab flex items-center px-6 py-4 text-sm font-medium border-b-2 transition-colors border-transparent text-gray-500 hover:text-gray-700">
                                    <i data-lucide="graduation-cap" class="w-5 h-5 mr-2"></i>
                                    Data Siswa
                                </button>
                                <button onclick="showManajemenTab('kelas')" class="manajemen-tab flex items-center px-6 py-4 text-sm font-medium border-b-2 transition-colors border-transparent text-gray-500 hover:text-gray-700">
                                    <i data-lucide="home" class="w-5 h-5 mr-2"></i>
                                    Data Kelas
                                </button>
                            </div>

                            <!-- Data Guru Tab -->
                            <div id="guruTab" class="tab-content p-6">
                                <div class="flex justify-between items-center mb-6">
                                    <h3 class="text-lg font-semibold text-gray-800">Data Guru</h3>
                                    <button onclick="showAddGuruModal()" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors">
                                        <i data-lucide="plus" class="w-5 h-5"></i>
                                        <span>Tambah Guru</span>
                                    </button>
                                </div>

                                <!-- Filter and Search -->
                                <div class="bg-gray-50 rounded-lg p-4 mb-6">
                                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Status</label>
                                            <select id="filterStatusGuru" onchange="filterGuru()" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                                <option value="">Semua Status</option>
                                                <option value="Aktif">Aktif</option>
                                                <option value="Tidak Aktif">Tidak Aktif</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Mata Pelajaran</label>
                                            <select id="filterMapelGuru" onchange="filterGuru()" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                                <option value="">Semua Mata Pelajaran</option>
                                                <option value="Matematika">Matematika</option>
                                                <option value="Bahasa Indonesia">Bahasa Indonesia</option>
                                                <option value="Bahasa Inggris">Bahasa Inggris</option>
                                                <option value="Fisika">Fisika</option>
                                                <option value="Kimia">Kimia</option>
                                                <option value="Biologi">Biologi</option>
                                                <option value="Sejarah">Sejarah</option>
                                                <option value="Geografi">Geografi</option>
                                                <option value="Pendidikan Agama">Pendidikan Agama</option>
                                                <option value="Bimbingan Konseling">Bimbingan Konseling</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Cari Guru</label>
                                            <input type="text" id="searchGuru" onkeyup="searchGuruData()" placeholder="Cari nama guru..." class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                        </div>
                                    </div>
                                </div>

                                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="guruManajemenList">
                                    <!-- Guru cards will be populated by JavaScript -->
                                </div>
                            </div>

                            <!-- Data Siswa Tab -->
                            <div id="siswaTab" class="tab-content hidden p-6">
                                <div class="flex justify-between items-center mb-6">
                                    <h3 class="text-lg font-semibold text-gray-800">Data Siswa</h3>
                                    <button onclick="showAddSiswaManajemenModal()" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors">
                                        <i data-lucide="plus" class="w-5 h-5"></i>
                                        <span>Tambah Siswa</span>
                                    </button>
                                </div>

                                <!-- Filter and Search -->
                                <div class="bg-gray-50 rounded-lg p-4 mb-6">
                                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Kelas</label>
                                            <select id="filterKelasSiswa" onchange="filterSiswa()" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                                                <option value="">Semua Kelas</option>
                                                <option value="X">Kelas X</option>
                                                <option value="XI">Kelas XI</option>
                                                <option value="XII">Kelas XII</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Jenis Kelamin</label>
                                            <select id="filterJenisKelamin" onchange="filterSiswa()" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                                                <option value="">Semua</option>
                                                <option value="Laki-laki">Laki-laki</option>
                                                <option value="Perempuan">Perempuan</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Status</label>
                                            <select id="filterStatusSiswa" onchange="filterSiswa()" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                                                <option value="">Semua Status</option>
                                                <option value="Aktif">Aktif</option>
                                                <option value="Tidak Aktif">Tidak Aktif</option>
                                            </select>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-gray-700 mb-2">Cari Siswa</label>
                                            <input type="text" id="searchSiswaManajemen" onkeyup="searchSiswaData()" placeholder="Cari nama siswa..." class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                                        </div>
                                    </div>
                                </div>

                                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="siswaManajemenList">
                                    <!-- Siswa cards will be populated by JavaScript -->
                                </div>
                            </div>

                            <!-- Data Kelas Tab -->
                            <div id="kelasTab" class="tab-content hidden p-6">
                                <div class="flex justify-between items-center mb-6">
                                    <h3 class="text-lg font-semibold text-gray-800">Data Kelas</h3>
                                    <button onclick="showAddKelasModal()" class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors">
                                        <i data-lucide="plus" class="w-5 h-5"></i>
                                        <span>Tambah Kelas</span>
                                    </button>
                                </div>

                                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="kelasManajemenList">
                                    <!-- Kelas cards will be populated by JavaScript -->
                                </div>
                            </div>
                        </div>
                    </div>
                </main>
            </div>
        </div>

        <!-- Modals -->
        <!-- Add Kegiatan Modal -->
        <div id="addKegiatanModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 modal-backdrop">
            <div class="bg-white rounded-xl shadow-xl p-6 w-full max-w-md mx-4">
                <h3 class="text-lg font-semibold text-gray-800 mb-4">Tambah Kegiatan Kokurikuler</h3>
                
                <form id="addKegiatanForm" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Judul Kegiatan</label>
                        <input type="text" id="kegiatanJudul" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Masukkan judul kegiatan" required>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Deskripsi</label>
                        <textarea id="kegiatanDeskripsi" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" rows="3" placeholder="Deskripsi kegiatan" required></textarea>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Tanggal Kegiatan</label>
                        <input type="date" id="kegiatanTanggal" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Guru Pendamping</label>
                        <input type="text" id="kegiatanGuru" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Nama guru pendamping" required>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Jumlah Peserta</label>
                        <input type="number" id="kegiatanPeserta" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Jumlah peserta" required>
                    </div>
                    
                    <div class="flex space-x-3 pt-4">
                        <button type="button" onclick="hideAddKegiatanModal()" class="flex-1 px-4 py-2 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors">
                            Batal
                        </button>
                        <button type="submit" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors">
                            Simpan
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Kebiasaan Input Modal -->
        <div id="kebiasaanModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 modal-backdrop">
            <div class="bg-white rounded-xl shadow-xl p-6 w-full max-w-4xl mx-4 max-h-[90vh] overflow-y-auto">
                <h3 class="text-lg font-semibold text-gray-800 mb-4">Input Kebiasaan Anak Indonesia Hebat</h3>
                
                <form id="kebiasaanForm" class="space-y-6">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Tanggal</label>
                            <input type="date" id="modalKebiasaanDate" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" required>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Kelas</label>
                            <select id="modalKebiasaanKelas" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" required>
                                <option value="XI-1">XI-1</option>
                                <option value="XI-2">XI-2</option>
                                <option value="XI-3">XI-3</option>
                                <option value="XI-4">XI-4</option>
                                <option value="XI-5">XI-5</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Kebiasaan</label>
                            <select id="modalKebiasaanType" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" required>
                                <option value="">Pilih Kebiasaan</option>
                                <option value="Bangun Pagi">Bangun Pagi</option>
                                <option value="Beribadah">Beribadah</option>
                                <option value="Berolahraga">Berolahraga</option>
                                <option value="Makan Sehat dan Bergizi">Makan Sehat dan Bergizi</option>
                                <option value="Gemar Belajar">Gemar Belajar</option>
                                <option value="Bermasyarakat">Bermasyarakat</option>
                                <option value="Tidur Cepat">Tidur Cepat</option>
                            </select>
                        </div>
                    </div>

                    <div id="studentChecklistContainer" class="hidden bg-gray-50 rounded-lg p-4">
                        <h4 class="font-medium text-gray-800 mb-3" id="checklistTitle">Checklist Siswa</h4>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 max-h-60 overflow-y-auto" id="studentChecklist">
                            <!-- Student checklist will be populated by JavaScript -->
                        </div>
                    </div>
                    
                    <div class="flex space-x-3 pt-4">
                        <button type="button" onclick="hideKebiasaanModal()" class="flex-1 px-4 py-2 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors">
                            Batal
                        </button>
                        <button type="submit" class="flex-1 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors">
                            Simpan Data
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Add Modul Ajar Modal -->
        <div id="addModulModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 modal-backdrop">
            <div class="bg-white rounded-xl shadow-xl p-6 w-full max-w-6xl mx-4 max-h-[95vh] overflow-y-auto">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-xl font-semibold text-gray-800">Buat Modul Ajar Baru</h3>
                    <button onclick="hideAddModulModal()" class="text-gray-400 hover:text-gray-600">
                        <i data-lucide="x" class="w-6 h-6"></i>
                    </button>
                </div>
                
                <form id="addModulForm" class="space-y-8">
                    <!-- 1. Informasi Umum -->
                    <div class="bg-blue-50 rounded-lg p-6">
                        <h4 class="text-lg font-semibold text-blue-800 mb-4 flex items-center">
                            <i data-lucide="info" class="w-5 h-5 mr-2"></i>
                            1. Informasi Umum
                        </h4>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Judul Modul</label>
                                <input type="text" id="judulModul" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Masukkan judul modul" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Mata Pelajaran</label>
                                <select id="mataPelajaran" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                                    <option value="">Pilih Mata Pelajaran</option>
                                    <option value="Matematika">Matematika</option>
                                    <option value="Bahasa Indonesia">Bahasa Indonesia</option>
                                    <option value="Bahasa Inggris">Bahasa Inggris</option>
                                    <option value="Fisika">Fisika</option>
                                    <option value="Kimia">Kimia</option>
                                    <option value="Biologi">Biologi</option>
                                    <option value="Sejarah">Sejarah</option>
                                    <option value="Geografi">Geografi</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Kelas</label>
                                <select id="kelasModul" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                                    <option value="">Pilih Kelas</option>
                                    <option value="X">Kelas X</option>
                                    <option value="XI">Kelas XI</option>
                                    <option value="XII">Kelas XII</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Fase</label>
                                <select id="faseModul" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                                    <option value="">Pilih Fase</option>
                                    <option value="E">Fase E (Kelas X)</option>
                                    <option value="F">Fase F (Kelas XI-XII)</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Satuan Pendidikan</label>
                                <input type="text" id="satuanPendidikan" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" value="SMA Negeri 20 Medan" readonly>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Penulis</label>
                                <input type="text" id="penulisModul" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Nama penulis modul" required>
                            </div>
                        </div>
                        
                        <div class="mt-4">
                            <label class="block text-sm font-medium text-gray-700 mb-2">Deskripsi Umum</label>
                            <textarea id="deskripsiUmum" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" rows="3" placeholder="Gambaran singkat tentang modul" required></textarea>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Kompetensi Awal</label>
                                <textarea id="kompetensiAwal" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" rows="3" placeholder="Pengetahuan atau keterampilan awal yang harus dimiliki siswa" required></textarea>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Target Peserta Didik</label>
                                <textarea id="targetPeserta" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" rows="3" placeholder="Karakteristik peserta didik" required></textarea>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Profil Pelajar Pancasila</label>
                                <div class="space-y-2">
                                    <label class="flex items-center">
                                        <input type="checkbox" name="profilPancasila" value="Beriman, bertakwa kepada Tuhan YME, dan berakhlak mulia" class="mr-2">
                                        <span class="text-sm">Beriman, bertakwa kepada Tuhan YME, dan berakhlak mulia</span>
                                    </label>
                                    <label class="flex items-center">
                                        <input type="checkbox" name="profilPancasila" value="Berkebinekaan global" class="mr-2">
                                        <span class="text-sm">Berkebinekaan global</span>
                                    </label>
                                    <label class="flex items-center">
                                        <input type="checkbox" name="profilPancasila" value="Bergotong royong" class="mr-2">
                                        <span class="text-sm">Bergotong royong</span>
                                    </label>
                                    <label class="flex items-center">
                                        <input type="checkbox" name="profilPancasila" value="Mandiri" class="mr-2">
                                        <span class="text-sm">Mandiri</span>
                                    </label>
                                    <label class="flex items-center">
                                        <input type="checkbox" name="profilPancasila" value="Bernalar kritis" class="mr-2">
                                        <span class="text-sm">Bernalar kritis</span>
                                    </label>
                                    <label class="flex items-center">
                                        <input type="checkbox" name="profilPancasila" value="Kreatif" class="mr-2">
                                        <span class="text-sm">Kreatif</span>
                                    </label>
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Model Pembelajaran</label>
                                <select id="modelPembelajaran" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                                    <option value="">Pilih Model</option>
                                    <option value="Tatap Muka (Luring)">Tatap Muka (Luring)</option>
                                    <option value="Daring">Daring</option>
                                    <option value="Blended Learning">Blended Learning</option>
                                </select>
                                
                                <label class="block text-sm font-medium text-gray-700 mb-2 mt-4">Sarana dan Prasarana</label>
                                <textarea id="saranaPrasarana" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" rows="3" placeholder="Kebutuhan alat dan bahan yang diperlukan" required></textarea>
                            </div>
                        </div>
                    </div>

                    <!-- 2. Komponen Inti -->
                    <div class="bg-green-50 rounded-lg p-6">
                        <h4 class="text-lg font-semibold text-green-800 mb-4 flex items-center">
                            <i data-lucide="target" class="w-5 h-5 mr-2"></i>
                            2. Komponen Inti
                        </h4>
                        
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Tujuan Pembelajaran</label>
                                <textarea id="tujuanPembelajaran" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" rows="3" placeholder="Kompetensi spesifik yang ingin dicapai setelah mempelajari modul" required></textarea>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Pemahaman Bermakna</label>
                                <textarea id="pemahamanBermakna" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" rows="3" placeholder="Manfaat pengetahuan yang dipelajari dalam kehidupan sehari-hari" required></textarea>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Pertanyaan Pemantik</label>
                                <textarea id="pertanyaanPemantik" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" rows="3" placeholder="Pertanyaan yang memotivasi siswa untuk memulai pembelajaran" required></textarea>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Kegiatan Pembelajaran</label>
                                <textarea id="kegiatanPembelajaran" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" rows="5" placeholder="Rangkaian aktivitas yang akan dilakukan siswa untuk mencapai tujuan pembelajaran" required></textarea>
                            </div>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Asesmen</label>
                                    <textarea id="asesmen" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" rows="4" placeholder="Rencana penilaian di awal dan akhir pembelajaran" required></textarea>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Pengayaan dan Remedial</label>
                                    <textarea id="pengayaanRemedial" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" rows="4" placeholder="Rencana kegiatan bagi siswa yang telah mencapai tujuan (pengayaan) atau yang belum (remedial)" required></textarea>
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Refleksi</label>
                                <textarea id="refleksi" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" rows="3" placeholder="Umpan balik bagi siswa dan guru untuk mengevaluasi proses pembelajaran" required></textarea>
                            </div>
                        </div>
                    </div>

                    <!-- 3. Lampiran -->
                    <div class="bg-purple-50 rounded-lg p-6">
                        <h4 class="text-lg font-semibold text-purple-800 mb-4 flex items-center">
                            <i data-lucide="paperclip" class="w-5 h-5 mr-2"></i>
                            3. Lampiran
                        </h4>
                        
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Lembar Kerja Peserta Didik (LKPD)</label>
                                <textarea id="lkpd" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" rows="4" placeholder="Soal atau tugas yang harus dikerjakan siswa" required></textarea>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Bahan Bacaan</label>
                                <textarea id="bahanBacaan" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" rows="4" placeholder="Materi tambahan untuk guru dan peserta didik" required></textarea>
                            </div>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Glosarium</label>
                                    <textarea id="glosarium" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" rows="4" placeholder="Daftar istilah penting dan penjelasannya" required></textarea>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Daftar Pustaka</label>
                                    <textarea id="daftarPustaka" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" rows="4" placeholder="Sumber referensi yang digunakan dalam penyusunan modul" required></textarea>
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Media Pembelajaran</label>
                                <textarea id="mediaPembelajaran" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" rows="3" placeholder="Materi pendukung seperti gambar, video, atau media lainnya" required></textarea>
                            </div>
                        </div>
                    </div>
                    
                    <div class="flex space-x-3 pt-6 border-t">
                        <button type="button" onclick="hideAddModulModal()" class="flex-1 px-6 py-3 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors">
                            Batal
                        </button>
                        <button type="button" onclick="saveAsDraft()" class="px-6 py-3 bg-yellow-600 hover:bg-yellow-700 text-white rounded-lg transition-colors">
                            Simpan Draft
                        </button>
                        <button type="submit" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition-colors">
                            Simpan Modul
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- View Modul Modal -->
        <div id="viewModulModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 modal-backdrop">
            <div class="bg-white rounded-xl shadow-xl w-full max-w-4xl mx-4 max-h-[95vh] overflow-y-auto">
                <div class="sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center">
                    <h3 class="text-xl font-semibold text-gray-800" id="viewModulTitle">Detail Modul Ajar</h3>
                    <div class="flex space-x-2">
                        <button onclick="editModul()" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm transition-colors">
                            <i data-lucide="edit" class="w-4 h-4 mr-1 inline"></i>
                            Edit
                        </button>
                        <button onclick="hideViewModulModal()" class="text-gray-400 hover:text-gray-600">
                            <i data-lucide="x" class="w-6 h-6"></i>
                        </button>
                    </div>
                </div>
                
                <div class="p-6" id="viewModulContent">
                    <!-- Content will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Add Jurnal Modal -->
        <div id="addJurnalModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 modal-backdrop">
            <div class="bg-white rounded-xl shadow-xl p-6 w-full max-w-4xl mx-4 max-h-[95vh] overflow-y-auto">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-xl font-semibold text-gray-800">Buat Jurnal Mengajar</h3>
                    <button onclick="hideAddJurnalModal()" class="text-gray-400 hover:text-gray-600">
                        <i data-lucide="x" class="w-6 h-6"></i>
                    </button>
                </div>
                
                <form id="addJurnalForm" class="space-y-6">
                    <!-- Informasi Dasar -->
                    <div class="bg-blue-50 rounded-lg p-6">
                        <h4 class="text-lg font-semibold text-blue-800 mb-4 flex items-center">
                            <i data-lucide="info" class="w-5 h-5 mr-2"></i>
                            Informasi Dasar
                        </h4>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Nama Guru</label>
                                <select id="namaGuru" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                                    <option value="">Pilih Nama Guru</option>
                                    <option value="HANANI RISNAYATI, S.Ag">HANANI RISNAYATI, S.Ag</option>
                                    <option value="MANGASA LUBIS, S.Pd">MANGASA LUBIS, S.Pd</option>
                                    <option value="RISMAWANI, S.Pd">RISMAWANI, S.Pd</option>
                                    <option value="DORTAULI H. SIMBOLON, S.Pd">DORTAULI H. SIMBOLON, S.Pd</option>
                                    <option value="ITA MAWARNI, SH">ITA MAWARNI, SH</option>
                                    <option value="SRI MARYATI. S.Pd.I">SRI MARYATI. S.Pd.I</option>
                                    <option value="NUR PUJI ASTUTIK,S.Pd">NUR PUJI ASTUTIK,S.Pd</option>
                                    <option value="IRMA WAHYUNI, S.Pd">IRMA WAHYUNI, S.Pd</option>
                                    <option value="HANNA MORYANI MUNTHE, S.Pd">HANNA MORYANI MUNTHE, S.Pd</option>
                                    <option value="MAHANIM, S.Pd">MAHANIM, S.Pd</option>
                                    <option value="ALI AKBAR, S.E">ALI AKBAR, S.E</option>
                                    <option value="PUJI ASTUTI, S.Kom">PUJI ASTUTI, S.Kom</option>
                                    <option value="AISIYAH ELIDA, S.Pd">AISIYAH ELIDA, S.Pd</option>
                                    <option value="TEGUH PRASETYO, S.Pd">TEGUH PRASETYO, S.Pd</option>
                                    <option value="RINI MINARTI , S.Pd">RINI MINARTI , S.Pd</option>
                                    <option value="BAWADI C C SINAMBELA, S.Pd">BAWADI C C SINAMBELA, S.Pd</option>
                                    <option value="CAHAYA HAIRANI NASUTION, M.Pd">CAHAYA HAIRANI NASUTION, M.Pd</option>
                                    <option value="NOVITA MAGDALENA, S.PAK">NOVITA MAGDALENA, S.PAK</option>
                                    <option value="ANGELI OKTAVIA T. SIREGAR, S.Pd">ANGELI OKTAVIA T. SIREGAR, S.Pd</option>
                                    <option value="HEMI ANGGI MAWADDAH, S.Pd.I">HEMI ANGGI MAWADDAH, S.Pd.I</option>
                                    <option value="RUZSANI, S.Pd">RUZSANI, S.Pd</option>
                                    <option value="Dra. NURUL IKHLAS NASUTION">Dra. NURUL IKHLAS NASUTION</option>
                                    <option value="SITI KHOLIJAH, S.Pd">SITI KHOLIJAH, S.Pd</option>
                                    <option value="WANTI DEBORA MALAU, S.Pd">WANTI DEBORA MALAU, S.Pd</option>
                                    <option value="MURTIANA SILALAHI, S.S">MURTIANA SILALAHI, S.S</option>
                                    <option value="NUR AZIZAH VIBRIANI, S.Pd">NUR AZIZAH VIBRIANI, S.Pd</option>
                                    <option value="MASDALENA S HARAHAP, M.Pd">MASDALENA S HARAHAP, M.Pd</option>
                                    <option value="NUZNI LUBIS,S.Psi">NUZNI LUBIS,S.Psi</option>
                                    <option value="RAHMAT HIDAYAT, S.Pd">RAHMAT HIDAYAT, S.Pd</option>
                                    <option value="ABDUL MALIK,S.Pd. M.P.Si">ABDUL MALIK,S.Pd. M.P.Si</option>
                                    <option value="SELVI ALFIANTI, S.Pd">SELVI ALFIANTI, S.Pd</option>
                                    <option value="EDY RISWANTO, S.Pd">EDY RISWANTO, S.Pd</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Kelas</label>
                                <select id="kelasJurnal" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                                    <option value="">Pilih Kelas</option>
                                    <option value="X-1">X-1</option>
                                    <option value="X-2">X-2</option>
                                    <option value="X-3">X-3</option>
                                    <option value="X-4">X-4</option>
                                    <option value="XI-1">XI-1</option>
                                    <option value="XI-2">XI-2</option>
                                    <option value="XI-3">XI-3</option>
                                    <option value="XI-4">XI-4</option>
                                    <option value="XI-5">XI-5</option>
                                    <option value="XII-1">XII-1</option>
                                    <option value="XII-2">XII-2</option>
                                    <option value="XII-3">XII-3</option>
                                    <option value="XII-4">XII-4</option>
                                    <option value="XII-5">XII-5</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Hari</label>
                                <select id="hariJurnal" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                                    <option value="">Pilih Hari</option>
                                    <option value="Senin">Senin</option>
                                    <option value="Selasa">Selasa</option>
                                    <option value="Rabu">Rabu</option>
                                    <option value="Kamis">Kamis</option>
                                    <option value="Jumat">Jumat</option>
                                    <option value="Sabtu">Sabtu</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Tanggal</label>
                                <input type="date" id="tanggalJurnal" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Waktu Mulai</label>
                                <input type="time" id="waktuMulai" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Waktu Selesai</label>
                                <input type="time" id="waktuSelesai" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                            </div>
                        </div>
                        
                        <div class="mt-4">
                            <label class="block text-sm font-medium text-gray-700 mb-2">Mata Pelajaran</label>
                            <input type="text" id="mataPelajaranJurnal" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Masukkan mata pelajaran" required>
                        </div>
                    </div>

                    <!-- Kegiatan Pembelajaran -->
                    <div class="bg-green-50 rounded-lg p-6">
                        <h4 class="text-lg font-semibold text-green-800 mb-4 flex items-center">
                            <i data-lucide="book-open" class="w-5 h-5 mr-2"></i>
                            Kegiatan Pembelajaran
                        </h4>
                        
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Materi Pokok</label>
                                <input type="text" id="materiPokok" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" placeholder="Masukkan materi pokok yang diajarkan" required>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Kegiatan Pembelajaran</label>
                                <textarea id="kegiatanPembelajaranJurnal" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" rows="4" placeholder="Deskripsikan kegiatan pembelajaran yang dilakukan" required></textarea>
                            </div>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Jumlah Siswa Hadir</label>
                                    <input type="number" id="siswaHadir" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" placeholder="0" min="0" required>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Jumlah Siswa Tidak Hadir</label>
                                    <input type="number" id="siswaTidakHadir" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" placeholder="0" min="0" required>
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Kendala/Hambatan</label>
                                <textarea id="kendala" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" rows="3" placeholder="Deskripsikan kendala atau hambatan yang dihadapi (opsional)"></textarea>
                            </div>
                        </div>
                    </div>

                    <!-- Dokumentasi -->
                    <div class="bg-purple-50 rounded-lg p-6">
                        <h4 class="text-lg font-semibold text-purple-800 mb-4 flex items-center">
                            <i data-lucide="camera" class="w-5 h-5 mr-2"></i>
                            Dokumentasi Kegiatan
                        </h4>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Unggah Foto Dokumentasi</label>
                            <div class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center">
                                <input type="file" id="dokumentasiFoto" accept="image/jpeg,image/png" class="hidden" multiple>
                                <div id="uploadArea" class="cursor-pointer" onclick="document.getElementById('dokumentasiFoto').click()">
                                    <i data-lucide="upload" class="w-12 h-12 mx-auto text-gray-400 mb-4"></i>
                                    <p class="text-gray-600 mb-2">Klik untuk mengunggah foto atau drag & drop</p>
                                    <p class="text-sm text-gray-500">JPG/PNG, maksimal 5MB per file</p>
                                </div>
                                <div id="previewContainer" class="mt-4 grid grid-cols-2 md:grid-cols-3 gap-4 hidden">
                                    <!-- Preview images will be shown here -->
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="flex space-x-3 pt-6 border-t">
                        <button type="button" onclick="hideAddJurnalModal()" class="flex-1 px-6 py-3 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors">
                            Batal
                        </button>
                        <button type="button" onclick="saveJurnalAsDraft()" class="px-6 py-3 bg-yellow-600 hover:bg-yellow-700 text-white rounded-lg transition-colors">
                            Simpan Draft
                        </button>
                        <button type="submit" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition-colors">
                            Kirim ke Kepala Sekolah
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- View Jurnal Modal -->
        <div id="viewJurnalModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 modal-backdrop">
            <div class="bg-white rounded-xl shadow-xl w-full max-w-4xl mx-4 max-h-[95vh] overflow-y-auto">
                <div class="sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center">
                    <h3 class="text-xl font-semibold text-gray-800" id="viewJurnalTitle">Detail Jurnal Mengajar</h3>
                    <div class="flex space-x-2">
                        <button onclick="downloadJurnal()" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm transition-colors">
                            <i data-lucide="download" class="w-4 h-4 mr-1 inline"></i>
                            Unduh
                        </button>
                        <button onclick="previewJurnal()" class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg text-sm transition-colors">
                            <i data-lucide="eye" class="w-4 h-4 mr-1 inline"></i>
                            Preview
                        </button>
                        <button onclick="hideViewJurnalModal()" class="text-gray-400 hover:text-gray-600">
                            <i data-lucide="x" class="w-6 h-6"></i>
                        </button>
                    </div>
                </div>
                
                <div class="p-6" id="viewJurnalContent">
                    <!-- Content will be populated by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Add Siswa Modal -->
        <div id="addSiswaModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 modal-backdrop">
            <div class="bg-white rounded-xl shadow-xl p-6 w-full max-w-4xl mx-4 max-h-[95vh] overflow-y-auto">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-xl font-semibold text-gray-800">Tambah Data Siswa</h3>
                    <button onclick="hideAddSiswaModal()" class="text-gray-400 hover:text-gray-600">
                        <i data-lucide="x" class="w-6 h-6"></i>
                    </button>
                </div>
                
                <form id="addSiswaForm" class="space-y-6">
                    <!-- Data Pribadi Siswa -->
                    <div class="bg-blue-50 rounded-lg p-6">
                        <h4 class="text-lg font-semibold text-blue-800 mb-4 flex items-center">
                            <i data-lucide="user" class="w-5 h-5 mr-2"></i>
                            Data Pribadi Siswa
                        </h4>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Nama Lengkap</label>
                                <input type="text" id="namaSiswa" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Masukkan nama lengkap siswa" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">NISN</label>
                                <input type="text" id="nisnSiswa" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Nomor Induk Siswa Nasional" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Kelas</label>
                                <select id="kelasSiswa" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                                    <option value="">Pilih Kelas</option>
                                    <option value="X-1">X-1</option>
                                    <option value="X-2">X-2</option>
                                    <option value="X-3">X-3</option>
                                    <option value="X-4">X-4</option>
                                    <option value="XI-1">XI-1</option>
                                    <option value="XI-2">XI-2</option>
                                    <option value="XI-3">XI-3</option>
                                    <option value="XI-4">XI-4</option>
                                    <option value="XI-5">XI-5</option>
                                    <option value="XII-1">XII-1</option>
                                    <option value="XII-2">XII-2</option>
                                    <option value="XII-3">XII-3</option>
                                    <option value="XII-4">XII-4</option>
                                    <option value="XII-5">XII-5</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Jenis Kelamin</label>
                                <select id="jenisKelaminSiswa" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                                    <option value="">Pilih Jenis Kelamin</option>
                                    <option value="Laki-laki">Laki-laki</option>
                                    <option value="Perempuan">Perempuan</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Tempat Lahir</label>
                                <input type="text" id="tempatLahirSiswa" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Tempat lahir" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Tanggal Lahir</label>
                                <input type="date" id="tanggalLahirSiswa" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                            </div>
                        </div>
                        
                        <div class="mt-4">
                            <label class="block text-sm font-medium text-gray-700 mb-2">Alamat Lengkap</label>
                            <textarea id="alamatSiswa" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" rows="3" placeholder="Alamat lengkap siswa" required></textarea>
                        </div>
                    </div>

                    <!-- Kontak Siswa -->
                    <div class="bg-green-50 rounded-lg p-6">
                        <h4 class="text-lg font-semibold text-green-800 mb-4 flex items-center">
                            <i data-lucide="phone" class="w-5 h-5 mr-2"></i>
                            Kontak Siswa
                        </h4>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Nomor Telepon</label>
                                <input type="tel" id="teleponSiswa" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" placeholder="Nomor telepon siswa">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                                <input type="email" id="emailSiswa" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" placeholder="Email siswa">
                            </div>
                        </div>
                    </div>

                    <!-- Data Orang Tua -->
                    <div class="bg-purple-50 rounded-lg p-6">
                        <h4 class="text-lg font-semibold text-purple-800 mb-4 flex items-center">
                            <i data-lucide="users" class="w-5 h-5 mr-2"></i>
                            Data Orang Tua
                        </h4>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <!-- Data Ayah -->
                            <div>
                                <h5 class="font-medium text-gray-700 mb-3">Data Ayah</h5>
                                <div class="space-y-3">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Nama Ayah</label>
                                        <input type="text" id="namaAyah" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" placeholder="Nama lengkap ayah" required>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Pekerjaan Ayah</label>
                                        <input type="text" id="pekerjaanAyah" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" placeholder="Pekerjaan ayah" required>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Telepon Ayah</label>
                                        <input type="tel" id="teleponAyah" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" placeholder="Nomor telepon ayah" required>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Data Ibu -->
                            <div>
                                <h5 class="font-medium text-gray-700 mb-3">Data Ibu</h5>
                                <div class="space-y-3">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Nama Ibu</label>
                                        <input type="text" id="namaIbu" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" placeholder="Nama lengkap ibu" required>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Pekerjaan Ibu</label>
                                        <input type="text" id="pekerjaanIbu" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" placeholder="Pekerjaan ibu" required>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Telepon Ibu</label>
                                        <input type="tel" id="teleponIbu" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" placeholder="Nomor telepon ibu" required>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Keterangan Masalah -->
                    <div class="bg-yellow-50 rounded-lg p-6">
                        <h4 class="text-lg font-semibold text-yellow-800 mb-4 flex items-center">
                            <i data-lucide="alert-circle" class="w-5 h-5 mr-2"></i>
                            Keterangan Masalah Siswa (Opsional)
                        </h4>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Catatan Khusus</label>
                            <textarea id="keteranganMasalah" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-yellow-500 focus:border-transparent" rows="4" placeholder="Masukkan catatan khusus tentang siswa (masalah kesehatan, kebutuhan khusus, dll.)"></textarea>
                        </div>
                    </div>
                    
                    <div class="flex space-x-3 pt-6 border-t">
                        <button type="button" onclick="hideAddSiswaModal()" class="flex-1 px-6 py-3 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors">
                            Batal
                        </button>
                        <button type="submit" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition-colors">
                            Simpan Data Siswa
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Add Catatan Modal -->
        <div id="addCatatanModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 modal-backdrop">
            <div class="bg-white rounded-xl shadow-xl p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-xl font-semibold text-gray-800">Tambah Catatan Perilaku & Karakter</h3>
                    <button onclick="hideAddCatatanModal()" class="text-gray-400 hover:text-gray-600">
                        <i data-lucide="x" class="w-6 h-6"></i>
                    </button>
                </div>
                
                <form id="addCatatanForm" class="space-y-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Pilih Siswa</label>
                            <select id="siswaCatatan" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" required>
                                <option value="">Pilih Siswa</option>
                                <!-- Options will be populated by JavaScript -->
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Tanggal</label>
                            <input type="date" id="tanggalCatatan" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" required>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Jenis Catatan</label>
                        <select id="jenisCatatan" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" required>
                            <option value="">Pilih Jenis Catatan</option>
                            <option value="Perilaku Positif">Perilaku Positif</option>
                            <option value="Perilaku Negatif">Perilaku Negatif</option>
                            <option value="Prestasi">Prestasi</option>
                            <option value="Kedisiplinan">Kedisiplinan</option>
                            <option value="Karakter">Karakter</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Deskripsi Catatan</label>
                        <textarea id="deskripsiCatatan" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" rows="4" placeholder="Deskripsikan perilaku, prestasi, atau karakter siswa secara detail" required></textarea>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Tindak Lanjut</label>
                        <textarea id="tindakLanjut" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" rows="3" placeholder="Rencana tindak lanjut atau pembinaan (opsional)"></textarea>
                    </div>
                    
                    <div class="flex space-x-3 pt-4">
                        <button type="button" onclick="hideAddCatatanModal()" class="flex-1 px-6 py-3 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors">
                            Batal
                        </button>
                        <button type="submit" class="flex-1 bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg transition-colors">
                            Simpan Catatan
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Add Guru Modal -->
        <div id="addGuruModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 modal-backdrop">
            <div class="bg-white rounded-xl shadow-xl p-6 w-full max-w-4xl mx-4 max-h-[95vh] overflow-y-auto">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-xl font-semibold text-gray-800">Tambah Data Guru</h3>
                    <button onclick="hideAddGuruModal()" class="text-gray-400 hover:text-gray-600">
                        <i data-lucide="x" class="w-6 h-6"></i>
                    </button>
                </div>
                
                <form id="addGuruForm" class="space-y-6">
                    <!-- Data Pribadi Guru -->
                    <div class="bg-blue-50 rounded-lg p-6">
                        <h4 class="text-lg font-semibold text-blue-800 mb-4 flex items-center">
                            <i data-lucide="user" class="w-5 h-5 mr-2"></i>
                            Data Pribadi Guru
                        </h4>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Nama Lengkap</label>
                                <input type="text" id="namaGuru" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Masukkan nama lengkap guru" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">NIP</label>
                                <input type="text" id="nipGuru" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Nomor Induk Pegawai" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Jenis Kelamin</label>
                                <select id="jenisKelaminGuru" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                                    <option value="">Pilih Jenis Kelamin</option>
                                    <option value="Laki-laki">Laki-laki</option>
                                    <option value="Perempuan">Perempuan</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Tempat Lahir</label>
                                <input type="text" id="tempatLahirGuru" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Tempat lahir" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Tanggal Lahir</label>
                                <input type="date" id="tanggalLahirGuru" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Status</label>
                                <select id="statusGuru" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                                    <option value="">Pilih Status</option>
                                    <option value="Aktif">Aktif</option>
                                    <option value="Tidak Aktif">Tidak Aktif</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="mt-4">
                            <label class="block text-sm font-medium text-gray-700 mb-2">Alamat Lengkap</label>
                            <textarea id="alamatGuru" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" rows="3" placeholder="Alamat lengkap guru" required></textarea>
                        </div>
                    </div>

                    <!-- Data Akademik -->
                    <div class="bg-green-50 rounded-lg p-6">
                        <h4 class="text-lg font-semibold text-green-800 mb-4 flex items-center">
                            <i data-lucide="book" class="w-5 h-5 mr-2"></i>
                            Data Akademik
                        </h4>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Mata Pelajaran</label>
                                <select id="mataPelajaranGuru" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" required>
                                    <option value="">Pilih Mata Pelajaran</option>
                                    <option value="Matematika">Matematika</option>
                                    <option value="Bahasa Indonesia">Bahasa Indonesia</option>
                                    <option value="Bahasa Inggris">Bahasa Inggris</option>
                                    <option value="Fisika">Fisika</option>
                                    <option value="Kimia">Kimia</option>
                                    <option value="Biologi">Biologi</option>
                                    <option value="Sejarah">Sejarah</option>
                                    <option value="Geografi">Geografi</option>
                                    <option value="Pendidikan Agama">Pendidikan Agama</option>
                                    <option value="Bimbingan Konseling">Bimbingan Konseling</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Pendidikan Terakhir</label>
                                <select id="pendidikanGuru" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" required>
                                    <option value="">Pilih Pendidikan</option>
                                    <option value="S1">S1</option>
                                    <option value="S2">S2</option>
                                    <option value="S3">S3</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Jabatan</label>
                                <select id="jabatanGuru" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" required>
                                    <option value="">Pilih Jabatan</option>
                                    <option value="Guru">Guru</option>
                                    <option value="Wali Kelas">Wali Kelas</option>
                                    <option value="Kepala Sekolah">Kepala Sekolah</option>
                                    <option value="Wakil Kepala Sekolah">Wakil Kepala Sekolah</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Tahun Masuk</label>
                                <input type="number" id="tahunMasukGuru" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" placeholder="2020" min="1990" max="2024" required>
                            </div>
                        </div>
                    </div>

                    <!-- Kontak -->
                    <div class="bg-purple-50 rounded-lg p-6">
                        <h4 class="text-lg font-semibold text-purple-800 mb-4 flex items-center">
                            <i data-lucide="phone" class="w-5 h-5 mr-2"></i>
                            Kontak
                        </h4>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Nomor Telepon</label>
                                <input type="tel" id="teleponGuru" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" placeholder="Nomor telepon guru" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                                <input type="email" id="emailGuru" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" placeholder="Email guru" required>
                            </div>
                        </div>
                    </div>
                    
                    <div class="flex space-x-3 pt-6 border-t">
                        <button type="button" onclick="hideAddGuruModal()" class="flex-1 px-6 py-3 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors">
                            Batal
                        </button>
                        <button type="submit" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition-colors">
                            Simpan Data Guru
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Add Siswa Manajemen Modal -->
        <div id="addSiswaManajemenModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 modal-backdrop">
            <div class="bg-white rounded-xl shadow-xl p-6 w-full max-w-4xl mx-4 max-h-[95vh] overflow-y-auto">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-xl font-semibold text-gray-800">Tambah Data Siswa</h3>
                    <button onclick="hideAddSiswaManajemenModal()" class="text-gray-400 hover:text-gray-600">
                        <i data-lucide="x" class="w-6 h-6"></i>
                    </button>
                </div>
                
                <form id="addSiswaManajemenForm" class="space-y-6">
                    <!-- Data Pribadi Siswa -->
                    <div class="bg-green-50 rounded-lg p-6">
                        <h4 class="text-lg font-semibold text-green-800 mb-4 flex items-center">
                            <i data-lucide="user" class="w-5 h-5 mr-2"></i>
                            Data Pribadi Siswa
                        </h4>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Nama Lengkap</label>
                                <input type="text" id="namaSiswaManajemen" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" placeholder="Masukkan nama lengkap siswa" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">NISN</label>
                                <input type="text" id="nisnSiswaManajemen" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" placeholder="Nomor Induk Siswa Nasional" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Kelas</label>
                                <select id="kelasSiswaManajemen" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" required>
                                    <option value="">Pilih Kelas</option>
                                    <option value="X-1">X-1</option>
                                    <option value="X-2">X-2</option>
                                    <option value="X-3">X-3</option>
                                    <option value="X-4">X-4</option>
                                    <option value="XI-1">XI-1</option>
                                    <option value="XI-2">XI-2</option>
                                    <option value="XI-3">XI-3</option>
                                    <option value="XI-4">XI-4</option>
                                    <option value="XI-5">XI-5</option>
                                    <option value="XII-1">XII-1</option>
                                    <option value="XII-2">XII-2</option>
                                    <option value="XII-3">XII-3</option>
                                    <option value="XII-4">XII-4</option>
                                    <option value="XII-5">XII-5</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Jenis Kelamin</label>
                                <select id="jenisKelaminSiswaManajemen" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" required>
                                    <option value="">Pilih Jenis Kelamin</option>
                                    <option value="Laki-laki">Laki-laki</option>
                                    <option value="Perempuan">Perempuan</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Tempat Lahir</label>
                                <input type="text" id="tempatLahirSiswaManajemen" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" placeholder="Tempat lahir" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Tanggal Lahir</label>
                                <input type="date" id="tanggalLahirSiswaManajemen" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Status</label>
                                <select id="statusSiswaManajemen" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" required>
                                    <option value="">Pilih Status</option>
                                    <option value="Aktif">Aktif</option>
                                    <option value="Tidak Aktif">Tidak Aktif</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Tahun Masuk</label>
                                <input type="number" id="tahunMasukSiswa" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" placeholder="2022" min="2020" max="2024" required>
                            </div>
                        </div>
                        
                        <div class="mt-4">
                            <label class="block text-sm font-medium text-gray-700 mb-2">Alamat Lengkap</label>
                            <textarea id="alamatSiswaManajemen" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent" rows="3" placeholder="Alamat lengkap siswa" required></textarea>
                        </div>
                    </div>

                    <!-- Kontak -->
                    <div class="bg-blue-50 rounded-lg p-6">
                        <h4 class="text-lg font-semibold text-blue-800 mb-4 flex items-center">
                            <i data-lucide="phone" class="w-5 h-5 mr-2"></i>
                            Kontak
                        </h4>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Nomor Telepon</label>
                                <input type="tel" id="teleponSiswaManajemen" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Nomor telepon siswa">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                                <input type="email" id="emailSiswaManajemen" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Email siswa">
                            </div>
                        </div>
                    </div>

                    <!-- Data Orang Tua -->
                    <div class="bg-purple-50 rounded-lg p-6">
                        <h4 class="text-lg font-semibold text-purple-800 mb-4 flex items-center">
                            <i data-lucide="users" class="w-5 h-5 mr-2"></i>
                            Data Orang Tua
                        </h4>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <!-- Data Ayah -->
                            <div>
                                <h5 class="font-medium text-gray-700 mb-3">Data Ayah</h5>
                                <div class="space-y-3">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Nama Ayah</label>
                                        <input type="text" id="namaAyahManajemen" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" placeholder="Nama lengkap ayah" required>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Pekerjaan Ayah</label>
                                        <input type="text" id="pekerjaanAyahManajemen" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" placeholder="Pekerjaan ayah" required>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Telepon Ayah</label>
                                        <input type="tel" id="teleponAyahManajemen" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" placeholder="Nomor telepon ayah" required>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Data Ibu -->
                            <div>
                                <h5 class="font-medium text-gray-700 mb-3">Data Ibu</h5>
                                <div class="space-y-3">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Nama Ibu</label>
                                        <input type="text" id="namaIbuManajemen" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" placeholder="Nama lengkap ibu" required>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Pekerjaan Ibu</label>
                                        <input type="text" id="pekerjaanIbuManajemen" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" placeholder="Pekerjaan ibu" required>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-1">Telepon Ibu</label>
                                        <input type="tel" id="teleponIbuManajemen" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" placeholder="Nomor telepon ibu" required>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="flex space-x-3 pt-6 border-t">
                        <button type="button" onclick="hideAddSiswaManajemenModal()" class="flex-1 px-6 py-3 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors">
                            Batal
                        </button>
                        <button type="submit" class="flex-1 bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg transition-colors">
                            Simpan Data Siswa
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Add Kelas Modal -->
        <div id="addKelasModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 modal-backdrop">
            <div class="bg-white rounded-xl shadow-xl p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-xl font-semibold text-gray-800">Tambah Data Kelas</h3>
                    <button onclick="hideAddKelasModal()" class="text-gray-400 hover:text-gray-600">
                        <i data-lucide="x" class="w-6 h-6"></i>
                    </button>
                </div>
                
                <form id="addKelasForm" class="space-y-6">
                    <div class="bg-purple-50 rounded-lg p-6">
                        <h4 class="text-lg font-semibold text-purple-800 mb-4 flex items-center">
                            <i data-lucide="home" class="w-5 h-5 mr-2"></i>
                            Informasi Kelas
                        </h4>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Nama Kelas</label>
                                <input type="text" id="namaKelas" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" placeholder="Contoh: X-1, XI-IPA-1" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Tingkat</label>
                                <select id="tingkatKelas" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" required>
                                    <option value="">Pilih Tingkat</option>
                                    <option value="X">Kelas X</option>
                                    <option value="XI">Kelas XI</option>
                                    <option value="XII">Kelas XII</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Jurusan</label>
                                <select id="jurusanKelas" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" required>
                                    <option value="">Pilih Jurusan</option>
                                    <option value="IPA">IPA</option>
                                    <option value="IPS">IPS</option>
                                    <option value="Umum">Umum</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Kapasitas Maksimal</label>
                                <input type="number" id="kapasitasKelas" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" placeholder="36" min="20" max="40" required>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Wali Kelas</label>
                                <select id="waliKelas" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" required>
                                    <option value="">Pilih Wali Kelas</option>
                                    <option value="HANANI RISNAYATI, S.Ag">HANANI RISNAYATI, S.Ag</option>
                                    <option value="MANGASA LUBIS, S.Pd">MANGASA LUBIS, S.Pd</option>
                                    <option value="RISMAWANI, S.Pd">RISMAWANI, S.Pd</option>
                                    <option value="DORTAULI H. SIMBOLON, S.Pd">DORTAULI H. SIMBOLON, S.Pd</option>
                                    <option value="ITA MAWARNI, SH">ITA MAWARNI, SH</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Ruang Kelas</label>
                                <input type="text" id="ruangKelas" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" placeholder="Contoh: R.101, Lab Fisika" required>
                            </div>
                        </div>
                        
                        <div class="mt-4">
                            <label class="block text-sm font-medium text-gray-700 mb-2">Keterangan</label>
                            <textarea id="keteranganKelas" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" rows="3" placeholder="Keterangan tambahan tentang kelas (opsional)"></textarea>
                        </div>
                    </div>
                    
                    <div class="flex space-x-3 pt-4">
                        <button type="button" onclick="hideAddKelasModal()" class="flex-1 px-6 py-3 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors">
                            Batal
                        </button>
                        <button type="submit" class="flex-1 bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg transition-colors">
                            Simpan Data Kelas
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Add Absensi Modal -->
        <div id="addAbsensiModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 modal-backdrop">
            <div class="bg-white rounded-xl shadow-xl p-6 w-full max-w-6xl mx-4 max-h-[95vh] overflow-y-auto">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-xl font-semibold text-gray-800">Input Absensi Bimbingan Konseling</h3>
                    <button onclick="hideAddAbsensiModal()" class="text-gray-400 hover:text-gray-600">
                        <i data-lucide="x" class="w-6 h-6"></i>
                    </button>
                </div>
                
                <form id="addAbsensiForm" class="space-y-6">
                    <!-- Informasi Dasar -->
                    <div class="bg-blue-50 rounded-lg p-6">
                        <h4 class="text-lg font-semibold text-blue-800 mb-4 flex items-center">
                            <i data-lucide="info" class="w-5 h-5 mr-2"></i>
                            Informasi Dasar
                        </h4>
                        
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Guru BK</label>
                                <select id="guruBK" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                                    <option value="">Pilih Guru BK</option>
                                    <option value="ABDUL MALIK, S.Pd">ABDUL MALIK, S.Pd</option>
                                    <option value="NUZNI LUBIS, S.Pd">NUZNI LUBIS, S.Pd</option>
                                    <option value="RAHMAT HIDAYAT, S.Pd">RAHMAT HIDAYAT, S.Pd</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Kelas</label>
                                <select id="kelasAbsensi" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" onchange="loadSiswaList()" required>
                                    <option value="">Pilih Kelas</option>
                                    <option value="X-1">X-1</option>
                                    <option value="X-2">X-2</option>
                                    <option value="X-3">X-3</option>
                                    <option value="X-4">X-4</option>
                                    <option value="XI-1">XI-1</option>
                                    <option value="XI-2">XI-2</option>
                                    <option value="XI-3">XI-3</option>
                                    <option value="XI-4">XI-4</option>
                                    <option value="XI-5">XI-5</option>
                                    <option value="XII-1">XII-1</option>
                                    <option value="XII-2">XII-2</option>
                                    <option value="XII-3">XII-3</option>
                                    <option value="XII-4">XII-4</option>
                                    <option value="XII-5">XII-5</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Tanggal</label>
                                <input type="date" id="tanggalAbsensi" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                            </div>
                        </div>
                    </div>

                    <!-- Daftar Siswa -->
                    <div id="siswaListContainer" class="hidden bg-green-50 rounded-lg p-6">
                        <div class="flex justify-between items-center mb-4">
                            <h4 class="text-lg font-semibold text-green-800 flex items-center">
                                <i data-lucide="users" class="w-5 h-5 mr-2"></i>
                                Absensi Kelas <span id="kelasTitle" class="ml-1"></span>
                            </h4>
                            <div class="flex space-x-2">
                                <button type="button" onclick="markAllHadir()" class="bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded-lg text-sm transition-colors">
                                    Semua Hadir
                                </button>
                                <button type="button" onclick="clearAllAbsensi()" class="bg-gray-600 hover:bg-gray-700 text-white px-3 py-2 rounded-lg text-sm transition-colors">
                                    Reset
                                </button>
                            </div>
                        </div>
                        
                        <div class="overflow-x-auto">
                            <table class="w-full border-collapse border border-gray-300">
                                <thead>
                                    <tr class="bg-gray-100">
                                        <th class="border border-gray-300 px-4 py-2 text-left">No</th>
                                        <th class="border border-gray-300 px-4 py-2 text-left">Nama Siswa</th>
                                        <th class="border border-gray-300 px-4 py-2 text-center">Hadir</th>
                                        <th class="border border-gray-300 px-4 py-2 text-center">Sakit</th>
                                        <th class="border border-gray-300 px-4 py-2 text-center">Izin</th>
                                        <th class="border border-gray-300 px-4 py-2 text-center">Alpha</th>
                                        <th class="border border-gray-300 px-4 py-2 text-center">Keterangan</th>
                                    </tr>
                                </thead>
                                <tbody id="siswaTableBody">
                                    <!-- Student rows will be populated by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div class="flex space-x-3 pt-6 border-t">
                        <button type="button" onclick="hideAddAbsensiModal()" class="flex-1 px-6 py-3 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors">
                            Batal
                        </button>
                        <button type="submit" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition-colors">
                            Simpan Absensi
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        // Initialize Lucide icons
        lucide.createIcons();

        // Data
        const siswaKelas = {
            'XI-1': [
                'AGNES MARGARET MANALU', 'ALDI PRAYOGA', 'ALVREDO VALENTINO ROSSI MANURUNG',
                'ANGGIYAH', 'BEBY SRIE APRILA RAHMAN', 'DODI FIRMANSYAH', 'ERICSON AMBARITA',
                'FANNY WULANDARI', 'JULFACHRI TARIGAN', 'LOIS KEVIN SITORUS', 'M ARGA',
                'M. FAHRI', 'M. RIZKY PRATAMA', 'MUHAMMAD RAFLI', 'MUHAMMAD SATRIA ALDIANSYAH',
                'NAJIYAH AZZAHRA', 'NUR ANISA', 'OKTAVIA TAMBUNAN', 'PRAYUGA HIDAYAT',
                'RAYHAN DWI APRIANSYAH', 'REMIA SEPTIAN DINI MARBUN', 'RISKI SAHPUTRA',
                'SULISTYO IBRA KUSDIAN', 'SYAHRI RAMADHAN', 'SYIFA MAULIDA', 'TASYA NOVIYANTI S',
                'WINDI SYAHIRA', 'YEMIMA CLEOPATRA PURBA', 'ZAHARA AULIA LUBIS'
            ],
            'XI-2': [
                'AAQILA NAJWA', 'ALIA SARI ANDINI', 'ALIF RAMADHAN DAULAY', 'AMARAH DARA',
                'AYRA SALSABILA', 'DANANG WIDODO', 'DANI LIMBONG', 'DESTI MARISTA NAPITUPULU',
                'DIKA RIANSYAH', 'DINDA USMA FRADILAA', 'FAYRUZ MUZAYYANA', 'GIA DINATA NASUTION',
                'IRMA ARMA WATI', 'MAWAN PRATAMA', 'MELATI GRESYA ELSA BAGARIANG', 'MHD ALWI MAULANA',
                'MHD WISNU SETIAWAN JAMBAK', 'MHD. FAHRURROZI', 'NAOMI THERESIA SINAMBELA',
                'NIRMALASARI', 'PUTRI CAHAYA SIHOMBING', 'RENI ENGELIKA SINAGA', 'SANDY GABRIEL SIMORANGKIR',
                'SASA AULIA PUTRI LUBIS', 'SHELLA MUSTIKA', 'SITI ZAHARA SINAGA', 'SONA LASMARIA SIAHAAN',
                'STEFANUS RAFLY MAULANA HUTASOIT', 'SUCI INDRIANI'
            ],
            'XI-3': [
                'ADEK ARDILA', 'ALVINO', 'AMBIGA SYAHPUTRA PANDIANGAN', 'ANDINI SIMBOLON',
                'ANNISA NAJEEH SIREGAR', 'ARTIKA', 'CHRISTIN BR SIMANJUNTAK', 'DESTRIAN APRICO SIMAJUNTAK',
                'DIMAS DWI CAHYA', 'DODE ALDAFFA', 'DZIKRI FADILAH', 'ENZELIKA SARI SITINJAK',
                'ERMI ALVIANA', 'ISA BELA INDRIANI', 'INKA TIANA SYAHPUTRI', 'JENOVAN SAMUEL SIREGAR',
                'KAYLA', 'KEYSIA ANDRAYANI', 'KLARANIANTI DUHA', 'MARGARET TAMBUNAN',
                'MARTIN ALEXANDRO LAIA', 'MUHAMMAD ASRUL SIDDIK', 'NURAFNI OCTAVIA SIHITE',
                'PAREL HERMANSYAH SIMANJUNTAK', 'RHYVALDO CHORNELIUS TAMPUBOLON', 'RIFKA MEILANI MARPAUNG',
                'RISMA ADINDA', 'TIARA AGUSTINA TAMBUNAN', 'ULFA', 'ULI ARTA SIHOTANG',
                'VEBIOLA SINAGA', 'WAFIQ KHODIJAH'
            ],
            'XI-4': [
                'AYU ASYIKIN', 'AYU SASKIA FITRIANI', 'AZZAHRA AINI', 'AZZAURA AHMAD',
                'DAMAI RIA FRISKA HUTAHAEAN', 'FRANSISKO HAMONANGAN PAKPAHAN', 'GENTA AMAR BUANA NASUTION',
                'GRESYA SANTA BR MARBUN', 'HALLASAN FRANSISKUS SIHOMBING', 'ICHWANUL SYAHPUTRA LUBIS',
                'JESIKA MAWARNI MARBUN', 'KARISMA SIANTURI', 'MARWAH NADIA MATONDANG', 'MHD FERDIANSAH',
                'MITA EVITRI SITOHANG', 'NABILA', 'NATAN NAEL H. PANGARIBUAN', 'NIKITA OKTAVIA TOGATOROP',
                'NOVAULI HERNIYANTI MARBUN', 'NUR IQBAL', 'NUR MEISYA PUTRI', 'NURHAFNI',
                'NURHAYATI', 'PREITY ZINTA BR SIMANJUNTAK', 'PUTRI INDAH PRATIWI', 'RENDI SIRAIT',
                'RENDY SYAHPUTRA HARAHAP', 'SAHAT RIDUAN MANALU', 'SITI ASIAH GULO', 'SITI ATIKA',
                'SITI NURBAITI', 'TIOFANI RAJAGUKGUK'
            ],
            'XI-5': [
                'ARIEL AFRIZAL PASARIBU', 'ARJUNA ANWAR', 'AZURA', 'CUT AFIFA SYAHIRA',
                'DIMAS FIRMANSYAH', 'HAFIZUL ARHAM', 'JULILA SARI', 'KESYA SALWA',
                'M FAHRI SYAH PUTRA', 'MAHLIZA ALIEF', 'MAYLA FAIZA HAFID', 'MHD IKHWANUL IHSAN HASIBUAN',
                'MIFTA HULZANNAH', 'MUHAINI', 'MUHAMMAD RAMZI', 'MUSTIKARIANI',
                'NAZWA NUR BAHRI LUBIS', 'NUR AFIFAH', 'NUR AFNI', 'NURHALIZAH NASUTION',
                'NURUL HASANAH', 'PUTRIE ALMIRA', 'RAFLI RAMADHANI', 'RAYA SYAFITRAH',
                'RIANSYAH', 'RIPDA AULIA', 'SAFA KHAIRA HARAHAP', 'SITI FATIMAH',
                'UMI AIMAN', 'WEDI ALVINO', 'ZASKYA ISKANDAR'
            ]
        };

        const kebiasaanList = [
            { id: 1, nama: 'Bangun Pagi', icon: '🌅', deskripsi: 'Bangun sebelum jam 06:00' },
            { id: 2, nama: 'Beribadah', icon: '🤲', deskripsi: 'Melaksanakan ibadah sesuai agama' },
            { id: 3, nama: 'Berolahraga', icon: '🏃', deskripsi: 'Aktivitas fisik minimal 30 menit' },
            { id: 4, nama: 'Makan Sehat dan Bergizi', icon: '🥗', deskripsi: 'Konsumsi makanan bergizi seimbang' },
            { id: 5, nama: 'Gemar Belajar', icon: '📚', deskripsi: 'Belajar mandiri di luar jam sekolah' },
            { id: 6, nama: 'Bermasyarakat', icon: '🤝', deskripsi: 'Berinteraksi positif dengan lingkungan' },
            { id: 7, nama: 'Tidur Cepat', icon: '😴', deskripsi: 'Tidur sebelum jam 22:00' }
        ];

        let kegiatanData = [
            { id: 1, judul: 'Olimpiade Sains', deskripsi: 'Persiapan olimpiade sains nasional', tanggal: '2024-02-01', guru: 'Bu Sari', peserta: 25, status: 'rencana' },
            { id: 2, judul: 'Pameran Karya Seni', deskripsi: 'Pameran hasil karya siswa', tanggal: '2024-01-20', guru: 'Pak Dedi', peserta: 40, status: 'berjalan' },
            { id: 3, judul: 'Bakti Sosial', deskripsi: 'Kegiatan bakti sosial ke panti asuhan', tanggal: '2024-01-10', guru: 'Bu Rina', peserta: 30, status: 'selesai' }
        ];

        let modulData = [
            {
                id: 1,
                judul: 'Sistem Persamaan Linear Tiga Variabel',
                mataPelajaran: 'Matematika',
                kelas: 'XI',
                fase: 'F',
                penulis: 'Dra. Siti Aminah, M.Pd',
                status: 'approved',
                tanggalBuat: '2024-01-15',
                deskripsiUmum: 'Modul pembelajaran tentang sistem persamaan linear tiga variabel dengan metode eliminasi dan substitusi',
                tujuanPembelajaran: 'Siswa dapat menyelesaikan sistem persamaan linear tiga variabel menggunakan berbagai metode',
                kompetensiAwal: 'Siswa telah memahami sistem persamaan linear dua variabel',
                targetPeserta: 'Siswa kelas XI dengan kemampuan matematika menengah',
                profilPancasila: ['Bernalar kritis', 'Mandiri'],
                modelPembelajaran: 'Blended Learning',
                saranaPrasarana: 'Laptop, proyektor, papan tulis, kalkulator',
                pemahamanBermakna: 'Memahami aplikasi sistem persamaan dalam kehidupan sehari-hari seperti masalah ekonomi dan teknik',
                pertanyaanPemantik: 'Bagaimana cara menentukan harga tiga jenis barang jika diketahui total pembelian dalam berbagai kombinasi?',
                kegiatanPembelajaran: 'Kegiatan pendahuluan, inti (eksplorasi, elaborasi, konfirmasi), dan penutup dengan pendekatan saintifik',
                asesmen: 'Asesmen formatif melalui kuis dan asesmen sumatif melalui tes tertulis',
                pengayaanRemedial: 'Pengayaan: soal-soal olimpiade. Remedial: pembelajaran ulang dengan pendekatan berbeda',
                refleksi: 'Siswa merefleksikan pemahaman dan kesulitan yang dialami selama pembelajaran',
                lkpd: 'Lembar kerja berisi soal-soal latihan sistem persamaan linear tiga variabel',
                bahanBacaan: 'Buku matematika kelas XI, artikel tentang aplikasi matematika dalam ekonomi',
                glosarium: 'Eliminasi: metode menghilangkan variabel. Substitusi: metode mengganti variabel',
                daftarPustaka: 'Kemendikbud. 2021. Matematika SMA Kelas XI. Jakarta: Kemendikbud',
                mediaPembelajaran: 'Video pembelajaran, simulasi interaktif, presentasi PowerPoint'
            },
            {
                id: 2,
                judul: 'Teks Eksposisi',
                mataPelajaran: 'Bahasa Indonesia',
                kelas: 'XI',
                fase: 'F',
                penulis: 'Drs. Ahmad Fauzi, M.Pd',
                status: 'review',
                tanggalBuat: '2024-01-20',
                deskripsiUmum: 'Modul pembelajaran tentang struktur dan ciri kebahasaan teks eksposisi',
                tujuanPembelajaran: 'Siswa dapat menganalisis dan memproduksi teks eksposisi dengan tepat',
                kompetensiAwal: 'Siswa memahami jenis-jenis teks dan struktur dasar teks',
                targetPeserta: 'Siswa kelas XI dengan kemampuan literasi menengah',
                profilPancasila: ['Bernalar kritis', 'Kreatif'],
                modelPembelajaran: 'Tatap Muka (Luring)',
                saranaPrasarana: 'Buku teks, artikel koran, laptop, proyektor',
                pemahamanBermakna: 'Memahami cara menyampaikan pendapat dan argumentasi yang logis dalam kehidupan sehari-hari',
                pertanyaanPemantik: 'Bagaimana cara menyampaikan pendapat yang dapat meyakinkan orang lain?',
                kegiatanPembelajaran: 'Menganalisis contoh teks eksposisi, mengidentifikasi struktur, dan membuat teks eksposisi',
                asesmen: 'Penilaian proses dan hasil melalui rubrik penilaian teks eksposisi',
                pengayaanRemedial: 'Pengayaan: menulis artikel opini. Remedial: latihan tambahan struktur teks',
                refleksi: 'Evaluasi kemampuan menulis dan pemahaman struktur teks eksposisi',
                lkpd: 'Lembar analisis teks eksposisi dan template penulisan',
                bahanBacaan: 'Artikel opini dari media massa, contoh teks eksposisi',
                glosarium: 'Eksposisi: teks yang menyajikan informasi dan pendapat. Argumentasi: alasan yang mendukung pendapat',
                daftarPustaka: 'Kemendikbud. 2021. Bahasa Indonesia SMA Kelas XI. Jakarta: Kemendikbud',
                mediaPembelajaran: 'Contoh teks eksposisi, video tutorial penulisan, infografik struktur teks'
            },
            {
                id: 3,
                judul: 'Simple Past Tense',
                mataPelajaran: 'Bahasa Inggris',
                kelas: 'X',
                fase: 'E',
                penulis: 'Sarah Johnson, S.Pd',
                status: 'draft',
                tanggalBuat: '2024-01-25',
                deskripsiUmum: 'Modul pembelajaran tentang penggunaan Simple Past Tense dalam bahasa Inggris',
                tujuanPembelajaran: 'Siswa dapat menggunakan Simple Past Tense dalam kalimat positif, negatif, dan tanya',
                kompetensiAwal: 'Siswa memahami Present Tense dan kosakata dasar bahasa Inggris',
                targetPeserta: 'Siswa kelas X dengan kemampuan bahasa Inggris dasar',
                profilPancasila: ['Berkebinekaan global', 'Mandiri'],
                modelPembelajaran: 'Blended Learning',
                saranaPrasarana: 'Audio speaker, video pembelajaran, worksheet, dictionary',
                pemahamanBermakna: 'Memahami cara menceritakan pengalaman masa lalu dalam bahasa Inggris',
                pertanyaanPemantik: 'How do you tell your friends about what you did yesterday?',
                kegiatanPembelajaran: 'Introduction to past events, grammar explanation, practice activities, role play',
                asesmen: 'Oral test, written test, dan portfolio assessment',
                pengayaanRemedial: 'Pengayaan: storytelling activity. Remedial: drill exercises',
                refleksi: 'Self-assessment tentang kemampuan menggunakan Simple Past Tense',
                lkpd: 'Exercise sheets dengan berbagai jenis soal Simple Past Tense',
                bahanBacaan: 'Short stories, diary entries, historical texts',
                glosarium: 'Past Tense: bentuk waktu lampau. Regular verb: kata kerja beraturan',
                daftarPustaka: 'Murphy, R. 2019. English Grammar in Use. Cambridge University Press',
                mediaPembelajaran: 'Audio recordings, video clips, interactive games, flashcards'
            }
        ];

        let currentEditingModul = null;

        let jurnalData = [
            {
                id: 1,
                namaGuru: 'HANANI RISNAYATI, S.Ag',
                kelas: 'XI-1',
                hari: 'Senin',
                tanggal: '2024-01-29',
                waktuMulai: '07:30',
                waktuSelesai: '09:00',
                mataPelajaran: 'Pendidikan Agama Islam',
                materiPokok: 'Akhlak Terpuji dalam Islam',
                kegiatanPembelajaran: 'Pembelajaran dimulai dengan pembacaan Al-Quran, dilanjutkan dengan penjelasan materi tentang akhlak terpuji. Siswa melakukan diskusi kelompok dan presentasi.',
                siswaHadir: 28,
                siswaTidakHadir: 1,
                kendala: 'Tidak ada kendala berarti',
                dokumentasi: ['foto1.jpg', 'foto2.jpg'],
                status: 'submitted',
                tanggalBuat: '2024-01-29T10:30:00'
            },
            {
                id: 2,
                namaGuru: 'MANGASA LUBIS, S.Pd',
                kelas: 'X-2',
                hari: 'Selasa',
                tanggal: '2024-01-30',
                waktuMulai: '09:15',
                waktuSelesai: '10:45',
                mataPelajaran: 'Matematika',
                materiPokok: 'Fungsi Kuadrat',
                kegiatanPembelajaran: 'Penjelasan konsep fungsi kuadrat dengan menggunakan grafik. Siswa mengerjakan latihan soal dan melakukan tanya jawab.',
                siswaHadir: 30,
                siswaTidakHadir: 2,
                kendala: 'Beberapa siswa masih kesulitan memahami konsep grafik',
                dokumentasi: ['foto3.jpg'],
                status: 'approved',
                tanggalBuat: '2024-01-30T11:00:00'
            },
            {
                id: 3,
                namaGuru: 'RISMAWANI, S.Pd',
                kelas: 'XII-3',
                hari: 'Rabu',
                tanggal: '2024-01-31',
                waktuMulai: '13:00',
                waktuSelesai: '14:30',
                mataPelajaran: 'Bahasa Indonesia',
                materiPokok: 'Teks Editorial',
                kegiatanPembelajaran: 'Analisis struktur teks editorial dari berbagai media massa. Siswa membuat teks editorial sederhana.',
                siswaHadir: 26,
                siswaTidakHadir: 0,
                kendala: '',
                dokumentasi: [],
                status: 'draft',
                tanggalBuat: '2024-01-31T14:45:00'
            }
        ];

        let currentEditingJurnal = null;

        let absensiData = [
            {
                id: 1,
                guruBK: 'ABDUL MALIK, S.Pd',
                kelas: 'XI-1',
                tanggal: '2024-02-01',
                siswa: [
                    { nama: 'AGNES MARGARET MANALU', status: 'hadir', keterangan: '' },
                    { nama: 'ALDI PRAYOGA', status: 'hadir', keterangan: '' },
                    { nama: 'ALVREDO VALENTINO ROSSI MANURUNG', status: 'sakit', keterangan: 'Demam' },
                    { nama: 'ANGGIYAH', status: 'hadir', keterangan: '' },
                    { nama: 'BEBY SRIE APRILA RAHMAN', status: 'hadir', keterangan: '' }
                ],
                totalHadir: 26,
                totalSakit: 2,
                totalIzin: 1,
                totalAlpha: 0,
                tanggalBuat: '2024-02-01T08:00:00'
            },
            {
                id: 2,
                guruBK: 'NUZNI LUBIS, S.Pd',
                kelas: 'XII-1',
                tanggal: '2024-02-01',
                siswa: [
                    { nama: 'AHMAD FAUZI', status: 'hadir', keterangan: '' },
                    { nama: 'SITI AMINAH', status: 'izin', keterangan: 'Keperluan keluarga' },
                    { nama: 'BUDI SANTOSO', status: 'hadir', keterangan: '' }
                ],
                totalHadir: 30,
                totalSakit: 1,
                totalIzin: 2,
                totalAlpha: 0,
                tanggalBuat: '2024-02-01T09:00:00'
            }
        ];

        // Sample student data for wali system
        let siswaWaliData = [
            {
                id: 1,
                nama: 'AGNES MARGARET MANALU',
                nisn: '0012345678',
                kelas: 'XI-1',
                jenisKelamin: 'Perempuan',
                tanggalLahir: '2007-03-15',
                tempatLahir: 'Medan',
                alamat: 'Jl. Sisingamangaraja No. 123, Medan',
                teleponSiswa: '081234567890',
                emailSiswa: 'agnes.manalu@email.com',
                namaAyah: 'Bapak Manalu',
                pekerjaanAyah: 'Wiraswasta',
                teleponAyah: '081234567891',
                namaIbu: 'Ibu Manalu',
                pekerjaanIbu: 'Ibu Rumah Tangga',
                teleponIbu: '081234567892',
                guruWali: 'HANANI RISNAYATI, S.Ag',
                kehadiran: {
                    hadir: 85,
                    sakit: 3,
                    izin: 2,
                    alpha: 0
                },
                catatan: [
                    {
                        id: 1,
                        tanggal: '2024-02-01',
                        jenis: 'Prestasi',
                        deskripsi: 'Juara 1 lomba pidato tingkat sekolah',
                        tindakLanjut: 'Diikutsertakan dalam lomba tingkat kota'
                    }
                ],
                keteranganMasalah: ''
            },
            {
                id: 2,
                nama: 'ALDI PRAYOGA',
                nisn: '0012345679',
                kelas: 'XI-1',
                jenisKelamin: 'Laki-laki',
                tanggalLahir: '2007-05-20',
                tempatLahir: 'Medan',
                alamat: 'Jl. Gatot Subroto No. 456, Medan',
                teleponSiswa: '081234567893',
                emailSiswa: 'aldi.prayoga@email.com',
                namaAyah: 'Bapak Prayoga',
                pekerjaanAyah: 'PNS',
                teleponAyah: '081234567894',
                namaIbu: 'Ibu Prayoga',
                pekerjaanIbu: 'Guru',
                teleponIbu: '081234567895',
                guruWali: 'HANANI RISNAYATI, S.Ag',
                kehadiran: {
                    hadir: 82,
                    sakit: 5,
                    izin: 1,
                    alpha: 2
                },
                catatan: [
                    {
                        id: 2,
                        tanggal: '2024-01-25',
                        jenis: 'Kedisiplinan',
                        deskripsi: 'Terlambat masuk kelas sebanyak 3 kali dalam seminggu',
                        tindakLanjut: 'Pembinaan dan peringatan tertulis'
                    }
                ],
                keteranganMasalah: 'Sering terlambat karena jarak rumah yang jauh'
            }
        ];

        // Add siswa data for other classes
        const siswaKelasLengkap = {
            ...siswaKelas,
            'X-1': [
                'AHMAD FAUZI LUBIS', 'AISYAH PUTRI RAMADHAN', 'ALIF RAHMAN HAKIM', 'AMANDA SARI DEWI',
                'ANDIKA PRATAMA', 'ANGGUN PERMATA SARI', 'ARIEF BUDIMAN', 'AULIA RAHMA',
                'BAYU SETIAWAN', 'BELLA SAFITRI', 'CITRA DEWI LESTARI', 'DANI KURNIAWAN',
                'DINDA MAHARANI', 'EKA PUTRA WIJAYA', 'FARAH DIBA', 'GILANG RAMADHAN',
                'HANA SAFIRA', 'INDRA GUNAWAN', 'JESSICA AMANDA', 'KEVIN ALEXANDER',
                'LAILA SARI', 'MUHAMMAD RIZKI', 'NADIA PUTRI', 'OSCAR PRATAMA',
                'PUTRI MAHARANI', 'QORI AMANDA', 'REZA PRATAMA', 'SARI DEWI',
                'TAUFIK HIDAYAT', 'ULFA KHOIRUNNISA', 'VINA SAFITRI', 'WULAN DARI',
                'YOGA PRATAMA', 'ZAHRA AMANDA'
            ],
            'X-2': [
                'ABDUL RAHMAN', 'BELLA PUTRI', 'CANDRA WIJAYA', 'DEWI SARTIKA',
                'ERIK SETIAWAN', 'FITRI HANDAYANI', 'GALIH PRATAMA', 'HESTI WULANDARI',
                'IRFAN MAULANA', 'JULIA SAFITRI', 'KRISNA WIJAYA', 'LESTARI DEWI',
                'MAYA SARI', 'NANDA PRATAMA', 'OLIVIA AMANDA', 'PUTRA RAMADHAN',
                'QONITA SARI', 'RANDI SETIAWAN', 'SINTA DEWI', 'TEGAR PRATAMA',
                'UMI KALSUM', 'VIRA AMANDA', 'WAHYU SETIAWAN', 'XENIA PUTRI',
                'YOGI PRATAMA', 'ZULFA MAHARANI', 'ANDI WIJAYA', 'BUNGA SARI',
                'CITRA AMANDA', 'DONI SETIAWAN', 'ELSA PUTRI', 'FANDI PRATAMA'
            ],
            'X-3': [
                'AGUS SETIAWAN', 'BINTANG SARI', 'CAHYO PRATAMA', 'DESI WULANDARI',
                'ENDRA WIJAYA', 'FIRA AMANDA', 'GILANG SETIAWAN', 'HILDA PUTRI',
                'IVAN PRATAMA', 'JIHAN SARI', 'KENZO WIJAYA', 'LUNA AMANDA',
                'MARIO SETIAWAN', 'NOVA PUTRI', 'OKTA PRATAMA', 'PRITA SARI',
                'QADRI WIJAYA', 'RINA AMANDA', 'SURYA SETIAWAN', 'TINA PUTRI',
                'UDIN PRATAMA', 'VERA SARI', 'WIRA WIJAYA', 'XARA AMANDA',
                'YUDA SETIAWAN', 'ZARA PUTRI', 'ARYA PRATAMA', 'BELA SARI',
                'CIKO WIJAYA', 'DARA AMANDA', 'ENZO SETIAWAN', 'FIKA PUTRI'
            ],
            'X-4': [
                'ALVIN SETIAWAN', 'BULAN SARI', 'CANDRA PRATAMA', 'DINA WULANDARI',
                'ERICK WIJAYA', 'FANI AMANDA', 'GENTA SETIAWAN', 'HANI PUTRI',
                'ILHAM PRATAMA', 'JESI SARI', 'KIKI WIJAYA', 'LINA AMANDA',
                'MIKO SETIAWAN', 'NITA PUTRI', 'OCHA PRATAMA', 'PINA SARI',
                'QIRA WIJAYA', 'RINI AMANDA', 'SANDI SETIAWAN', 'TARI PUTRI',
                'UCOK PRATAMA', 'VANI SARI', 'WANDI WIJAYA', 'XENA AMANDA',
                'YANTO SETIAWAN', 'ZITA PUTRI', 'ARGA PRATAMA', 'BIMA SARI',
                'COKI WIJAYA', 'DILA AMANDA', 'EROS SETIAWAN', 'FINA PUTRI'
            ],
            'XII-1': [
                'AHMAD FAUZI', 'BELLA SAFIRA', 'CANDRA WIJAYA', 'DEWI LESTARI',
                'ERIK PRATAMA', 'FITRI SARI', 'GALIH SETIAWAN', 'HANA PUTRI',
                'IRFAN WIJAYA', 'JULIA AMANDA', 'KRISNA PRATAMA', 'LINA SARI',
                'MARIO WIJAYA', 'NOVA AMANDA', 'OSCAR PRATAMA', 'PUTRI SARI',
                'QORI WIJAYA', 'RINA AMANDA', 'SURYA PRATAMA', 'TINA SARI',
                'UDIN WIJAYA', 'VERA AMANDA', 'WIRA PRATAMA', 'XARA SARI',
                'YUDA WIJAYA', 'ZARA AMANDA', 'ANDI PRATAMA', 'BELA SARI',
                'CIKO WIJAYA', 'DARA AMANDA', 'ENZO PRATAMA', 'FIKA SARI'
            ],
            'XII-2': [
                'ALVIN PRATAMA', 'BULAN AMANDA', 'CANDRA SARI', 'DINA WIJAYA',
                'ERICK PRATAMA', 'FANI SARI', 'GENTA WIJAYA', 'HANI AMANDA',
                'ILHAM PRATAMA', 'JESI SARI', 'KIKI WIJAYA', 'LINA AMANDA',
                'MIKO PRATAMA', 'NITA SARI', 'OCHA WIJAYA', 'PINA AMANDA',
                'QIRA PRATAMA', 'RINI SARI', 'SANDI WIJAYA', 'TARI AMANDA',
                'UCOK PRATAMA', 'VANI SARI', 'WANDI WIJAYA', 'XENA AMANDA',
                'YANTO PRATAMA', 'ZITA SARI', 'ARGA WIJAYA', 'BIMA AMANDA',
                'COKI PRATAMA', 'DILA SARI', 'EROS WIJAYA', 'FINA AMANDA'
            ],
            'XII-3': [
                'AGUS WIJAYA', 'BINTANG AMANDA', 'CAHYO SARI', 'DESI PRATAMA',
                'ENDRA WIJAYA', 'FIRA SARI', 'GILANG PRATAMA', 'HILDA AMANDA',
                'IVAN WIJAYA', 'JIHAN SARI', 'KENZO PRATAMA', 'LUNA AMANDA',
                'MARIO WIJAYA', 'NOVA SARI', 'OKTA PRATAMA', 'PRITA AMANDA',
                'QADRI WIJAYA', 'RINA SARI', 'SURYA PRATAMA', 'TINA AMANDA',
                'UDIN WIJAYA', 'VERA SARI', 'WIRA PRATAMA', 'XARA AMANDA',
                'YUDA WIJAYA', 'ZARA SARI', 'ARYA PRATAMA', 'BELA AMANDA',
                'CIKO WIJAYA', 'DARA SARI', 'ENZO PRATAMA', 'FIKA AMANDA'
            ],
            'XII-4': [
                'ALVIN WIJAYA', 'BULAN SARI', 'CANDRA AMANDA', 'DINA PRATAMA',
                'ERICK WIJAYA', 'FANI SARI', 'GENTA AMANDA', 'HANI PRATAMA',
                'ILHAM WIJAYA', 'JESI SARI', 'KIKI AMANDA', 'LINA PRATAMA',
                'MIKO WIJAYA', 'NITA SARI', 'OCHA AMANDA', 'PINA PRATAMA',
                'QIRA WIJAYA', 'RINI SARI', 'SANDI AMANDA', 'TARI PRATAMA',
                'UCOK WIJAYA', 'VANI SARI', 'WANDI AMANDA', 'XENA PRATAMA',
                'YANTO WIJAYA', 'ZITA SARI', 'ARGA AMANDA', 'BIMA PRATAMA',
                'COKI WIJAYA', 'DILA SARI', 'EROS AMANDA', 'FINA PRATAMA'
            ],
            'XII-5': [
                'AGUS AMANDA', 'BINTANG PRATAMA', 'CAHYO WIJAYA', 'DESI SARI',
                'ENDRA AMANDA', 'FIRA PRATAMA', 'GILANG WIJAYA', 'HILDA SARI',
                'IVAN AMANDA', 'JIHAN PRATAMA', 'KENZO WIJAYA', 'LUNA SARI',
                'MARIO AMANDA', 'NOVA PRATAMA', 'OKTA WIJAYA', 'PRITA SARI',
                'QADRI AMANDA', 'RINA PRATAMA', 'SURYA WIJAYA', 'TINA SARI',
                'UDIN AMANDA', 'VERA PRATAMA', 'WIRA WIJAYA', 'XARA SARI',
                'YUDA AMANDA', 'ZARA PRATAMA', 'ARYA WIJAYA', 'BELA SARI',
                'CIKO AMANDA', 'DARA PRATAMA', 'ENZO WIJAYA', 'FIKA SARI'
            ]
        };

        // Update siswaKelas with complete data
        Object.assign(siswaKelas, siswaKelasLengkap);

        // State
        let currentUser = null;
        let sidebarOpen = false;

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Set today's date for kebiasaan inputs
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('kebiasaanDate').value = today;
            
            // Initialize kebiasaan content
            updateKebiasaanContent();
            updateStudentList();
            loadKegiatanList();
            
            // Event listeners
            document.getElementById('loginForm').addEventListener('submit', handleLogin);
            document.getElementById('addKegiatanForm').addEventListener('submit', handleAddKegiatan);
            document.getElementById('kebiasaanForm').addEventListener('submit', handleKebiasaanSubmit);
            document.getElementById('kebiasaanKelas').addEventListener('change', updateStudentList);
            document.getElementById('modalKebiasaanType').addEventListener('change', updateStudentChecklist);
            document.getElementById('modalKebiasaanKelas').addEventListener('change', updateStudentChecklist);
            document.getElementById('addModulForm').addEventListener('submit', handleAddModul);
            document.getElementById('addJurnalForm').addEventListener('submit', handleAddJurnal);
            document.getElementById('dokumentasiFoto').addEventListener('change', handleFileUpload);
            
            // Load initial data
            loadModulList();
            loadJurnalList();
            updateJurnalStats();
            updateDateTime();
            loadAbsensiList();
            updateAbsensiStats();
            
            // Initialize wali data
            loadSiswaWali();
            updateWaliStats();
        });

        // Authentication
        function handleLogin(e) {
            e.preventDefault();
            const role = document.getElementById('roleSelect').value;
            const email = document.getElementById('emailInput').value;
            
            currentUser = {
                nama: role === 'Admin' ? 'Admin SISPIN' : 'User SISPIN',
                role: role,
                email: email
            };
            
            document.getElementById('userName').textContent = currentUser.nama;
            document.getElementById('userRole').textContent = currentUser.role;
            
            document.getElementById('loginScreen').classList.add('hidden');
            document.getElementById('dashboard').classList.remove('hidden');
            
            lucide.createIcons();
        }

        function logout() {
            currentUser = null;
            document.getElementById('loginScreen').classList.remove('hidden');
            document.getElementById('dashboard').classList.add('hidden');
        }

        // Navigation
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            sidebarOpen = !sidebarOpen;
            
            if (sidebarOpen) {
                sidebar.classList.remove('-translate-x-full');
            } else {
                sidebar.classList.add('-translate-x-full');
            }
        }

        function showPage(pageId) {
            // Hide all pages
            const pages = document.querySelectorAll('.page-content');
            pages.forEach(page => page.classList.add('hidden'));
            
            // Show selected page
            document.getElementById(pageId + 'Page').classList.remove('hidden');
            
            // Update page title
            const titles = {
                'beranda': 'Beranda',
                'rpp': 'Perencanaan Intrakurikuler',
                'kokurikuler': 'Perencanaan Kokurikuler',
                'wali': 'Data Guru Wali',
                'jurnal': 'Jurnal & Supervisi',
                'bimbingan': 'Bimbingan Konseling',
                'manajemen': 'Manajemen Data'
            };
            document.getElementById('pageTitle').textContent = titles[pageId];
            
            // Update active menu
            const menuItems = document.querySelectorAll('.menu-item');
            menuItems.forEach(item => {
                item.classList.remove('bg-blue-50', 'text-blue-600', 'border-r-4', 'border-blue-600');
                item.classList.add('text-gray-700', 'hover:text-blue-600');
            });
            
            event.target.classList.add('bg-blue-50', 'text-blue-600', 'border-r-4', 'border-blue-600');
            event.target.classList.remove('text-gray-700', 'hover:text-blue-600');
        }

        // Kokurikuler Tabs
        function showKokurikulerTab(tabId) {
            // Hide all tab contents
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.add('hidden'));
            
            // Show selected tab
            document.getElementById(tabId + 'Tab').classList.remove('hidden');
            
            // Update active tab
            const tabButtons = document.querySelectorAll('.kokurikuler-tab');
            tabButtons.forEach(button => {
                button.classList.remove('border-blue-500', 'text-blue-600');
                button.classList.add('border-transparent', 'text-gray-500', 'hover:text-gray-700');
            });
            
            event.target.classList.add('border-blue-500', 'text-blue-600');
            event.target.classList.remove('border-transparent', 'text-gray-500', 'hover:text-gray-700');
        }

        // Kegiatan Functions
        function loadKegiatanList() {
            const container = document.getElementById('kegiatanList');
            container.innerHTML = '';
            
            kegiatanData.forEach(kegiatan => {
                const statusColors = {
                    'rencana': 'bg-yellow-100 text-yellow-800',
                    'berjalan': 'bg-blue-100 text-blue-800',
                    'selesai': 'bg-green-100 text-green-800'
                };
                
                const card = document.createElement('div');
                card.className = 'bg-white rounded-xl shadow-sm p-6 card-hover';
                card.innerHTML = `
                    <div class="flex justify-between items-start mb-4">
                        <h3 class="text-lg font-semibold text-gray-800">${kegiatan.judul}</h3>
                        <span class="px-2 py-1 rounded-full text-xs font-medium ${statusColors[kegiatan.status]}">${kegiatan.status}</span>
                    </div>
                    <p class="text-gray-600 text-sm mb-4">${kegiatan.deskripsi}</p>
                    <div class="space-y-2 text-sm">
                        <div class="flex items-center text-gray-500">
                            <i data-lucide="calendar" class="w-4 h-4 mr-2"></i>
                            ${new Date(kegiatan.tanggal).toLocaleDateString('id-ID')}
                        </div>
                        <div class="flex items-center text-gray-500">
                            <i data-lucide="user" class="w-4 h-4 mr-2"></i>
                            ${kegiatan.guru}
                        </div>
                        <div class="flex items-center text-gray-500">
                            <i data-lucide="users" class="w-4 h-4 mr-2"></i>
                            ${kegiatan.peserta} peserta
                        </div>
                    </div>
                    <div class="flex space-x-2 mt-4">
                        <button class="flex-1 bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg text-sm transition-colors">Detail</button>
                        <button class="px-3 py-2 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-lg text-sm transition-colors">
                            <i data-lucide="edit" class="w-4 h-4"></i>
                        </button>
                    </div>
                `;
                container.appendChild(card);
            });
            
            lucide.createIcons();
        }

        function showAddKegiatanModal() {
            document.getElementById('addKegiatanModal').classList.remove('hidden');
        }

        function hideAddKegiatanModal() {
            document.getElementById('addKegiatanModal').classList.add('hidden');
            document.getElementById('addKegiatanForm').reset();
        }

        function handleAddKegiatan(e) {
            e.preventDefault();
            
            const newKegiatan = {
                id: Date.now(),
                judul: document.getElementById('kegiatanJudul').value,
                deskripsi: document.getElementById('kegiatanDeskripsi').value,
                tanggal: document.getElementById('kegiatanTanggal').value,
                guru: document.getElementById('kegiatanGuru').value,
                peserta: parseInt(document.getElementById('kegiatanPeserta').value),
                status: 'rencana'
            };
            
            kegiatanData.push(newKegiatan);
            loadKegiatanList();
            hideAddKegiatanModal();
            
            // Show success message
            showNotification('Kegiatan berhasil ditambahkan!', 'success');
        }

        // Kebiasaan Functions
        function updateKebiasaanContent() {
            const container = document.getElementById('kebiasaanCards');
            container.innerHTML = '';
            
            kebiasaanList.forEach(kebiasaan => {
                const card = document.createElement('div');
                card.className = 'bg-white rounded-xl shadow-sm p-4 card-hover border-l-4 border-green-500';
                card.innerHTML = `
                    <div class="flex items-center space-x-3 mb-3">
                        <span class="text-2xl">${kebiasaan.icon}</span>
                        <div>
                            <h4 class="font-semibold text-gray-800 text-sm">${kebiasaan.nama}</h4>
                            <p class="text-xs text-gray-500">${kebiasaan.deskripsi}</p>
                        </div>
                    </div>
                    <button onclick="showKebiasaanModal('${kebiasaan.nama}')" class="w-full bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded-lg text-sm transition-colors">
                        Input Data
                    </button>
                `;
                container.appendChild(card);
            });
        }

        function updateStudentList() {
            const selectedKelas = document.getElementById('kebiasaanKelas').value;
            const students = siswaKelas[selectedKelas] || [];
            
            const container = document.getElementById('studentList');
            const title = document.getElementById('studentListTitle');
            
            title.textContent = `Daftar Siswa ${selectedKelas} (${students.length} siswa)`;
            container.innerHTML = '';
            
            students.forEach((siswa, index) => {
                const item = document.createElement('div');
                item.className = 'flex items-center space-x-2 p-2 rounded bg-gray-50';
                item.innerHTML = `
                    <span class="text-xs text-gray-500">${index + 1}.</span>
                    <span class="text-sm text-gray-700">${siswa}</span>
                `;
                container.appendChild(item);
            });
        }

        function showKebiasaanModal(kebiasaanType = '') {
            const modal = document.getElementById('kebiasaanModal');
            const dateInput = document.getElementById('modalKebiasaanDate');
            const kelasSelect = document.getElementById('modalKebiasaanKelas');
            const typeSelect = document.getElementById('modalKebiasaanType');
            
            // Set current values
            dateInput.value = document.getElementById('kebiasaanDate').value;
            kelasSelect.value = document.getElementById('kebiasaanKelas').value;
            if (kebiasaanType) {
                typeSelect.value = kebiasaanType;
            }
            
            modal.classList.remove('hidden');
            updateStudentChecklist();
        }

        function hideKebiasaanModal() {
            document.getElementById('kebiasaanModal').classList.add('hidden');
            document.getElementById('kebiasaanForm').reset();
            document.getElementById('studentChecklistContainer').classList.add('hidden');
        }

        function updateStudentChecklist() {
            const kebiasaanType = document.getElementById('modalKebiasaanType').value;
            const selectedKelas = document.getElementById('modalKebiasaanKelas').value;
            const container = document.getElementById('studentChecklistContainer');
            const checklist = document.getElementById('studentChecklist');
            const title = document.getElementById('checklistTitle');
            
            if (!kebiasaanType) {
                container.classList.add('hidden');
                return;
            }
            
            container.classList.remove('hidden');
            title.textContent = `Checklist Siswa - ${kebiasaanType}`;
            
            const students = siswaKelas[selectedKelas] || [];
            checklist.innerHTML = '';
            
            students.forEach((siswa, index) => {
                const item = document.createElement('label');
                item.className = 'flex items-center space-x-2 p-2 rounded cursor-pointer hover:bg-gray-100';
                item.innerHTML = `
                    <input type="checkbox" name="siswa" value="${siswa}" class="w-4 h-4 text-green-600 bg-gray-100 border-gray-300 rounded focus:ring-green-500">
                    <span class="text-sm text-gray-700">${siswa}</span>
                `;
                checklist.appendChild(item);
            });
        }

        function handleKebiasaanSubmit(e) {
            e.preventDefault();
            
            const tanggal = document.getElementById('modalKebiasaanDate').value;
            const kelas = document.getElementById('modalKebiasaanKelas').value;
            const kebiasaan = document.getElementById('modalKebiasaanType').value;
            const checkedStudents = Array.from(document.querySelectorAll('input[name="siswa"]:checked')).map(cb => cb.value);
            
            // Mock save - in real app, this would send to server
            console.log('Saving kebiasaan data:', {
                tanggal,
                kelas,
                kebiasaan,
                siswa: checkedStudents
            });
            
            hideKebiasaanModal();
            showNotification(`Data kebiasaan "${kebiasaan}" untuk kelas ${kelas} berhasil disimpan! (${checkedStudents.length} siswa)`, 'success');
        }

        // Utility Functions
        function showNotification(message, type = 'info') {
            // Create notification element
            const notification = document.createElement('div');
            notification.className = `fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg text-white transition-all duration-300 transform translate-x-full ${
                type === 'success' ? 'bg-green-500' : 
                type === 'error' ? 'bg-red-500' : 'bg-blue-500'
            }`;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            // Animate in
            setTimeout(() => {
                notification.classList.remove('translate-x-full');
            }, 100);
            
            // Remove after 3 seconds
            setTimeout(() => {
                notification.classList.add('translate-x-full');
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // Modul Functions
        function loadModulList() {
            const container = document.getElementById('modulList');
            container.innerHTML = '';
            
            modulData.forEach(modul => {
                const statusColors = {
                    'draft': 'bg-yellow-100 text-yellow-800',
                    'review': 'bg-blue-100 text-blue-800',
                    'approved': 'bg-green-100 text-green-800'
                };
                
                const statusText = {
                    'draft': 'Draft',
                    'review': 'Review',
                    'approved': 'Disetujui'
                };
                
                const card = document.createElement('div');
                card.className = 'bg-white rounded-xl shadow-sm p-6 card-hover border-l-4 border-blue-500';
                card.innerHTML = `
                    <div class="flex justify-between items-start mb-4">
                        <div class="flex-1">
                            <h3 class="text-lg font-semibold text-gray-800 mb-2">${modul.judul}</h3>
                            <div class="flex items-center space-x-4 text-sm text-gray-600 mb-2">
                                <span class="flex items-center">
                                    <i data-lucide="book" class="w-4 h-4 mr-1"></i>
                                    ${modul.mataPelajaran}
                                </span>
                                <span class="flex items-center">
                                    <i data-lucide="users" class="w-4 h-4 mr-1"></i>
                                    Kelas ${modul.kelas}
                                </span>
                                <span class="flex items-center">
                                    <i data-lucide="calendar" class="w-4 h-4 mr-1"></i>
                                    ${new Date(modul.tanggalBuat).toLocaleDateString('id-ID')}
                                </span>
                            </div>
                            <p class="text-sm text-gray-600 mb-3">${modul.deskripsiUmum.substring(0, 100)}...</p>
                            <p class="text-xs text-gray-500">Penulis: ${modul.penulis}</p>
                        </div>
                        <span class="px-3 py-1 rounded-full text-xs font-medium ${statusColors[modul.status]} ml-4">
                            ${statusText[modul.status]}
                        </span>
                    </div>
                    
                    <div class="flex space-x-2">
                        <button onclick="viewModul(${modul.id})" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg text-sm transition-colors">
                            <i data-lucide="eye" class="w-4 h-4 mr-1 inline"></i>
                            Lihat Detail
                        </button>
                        <button onclick="editModul(${modul.id})" class="px-3 py-2 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-lg text-sm transition-colors">
                            <i data-lucide="edit" class="w-4 h-4"></i>
                        </button>
                        <button onclick="duplicateModul(${modul.id})" class="px-3 py-2 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-lg text-sm transition-colors">
                            <i data-lucide="copy" class="w-4 h-4"></i>
                        </button>
                    </div>
                `;
                container.appendChild(card);
            });
            
            lucide.createIcons();
        }

        function showAddModulModal() {
            document.getElementById('addModulModal').classList.remove('hidden');
            currentEditingModul = null;
        }

        function hideAddModulModal() {
            document.getElementById('addModulModal').classList.add('hidden');
            document.getElementById('addModulForm').reset();
            currentEditingModul = null;
        }

        function handleAddModul(e) {
            e.preventDefault();
            
            const profilPancasila = Array.from(document.querySelectorAll('input[name="profilPancasila"]:checked')).map(cb => cb.value);
            
            const modulBaru = {
                id: currentEditingModul ? currentEditingModul.id : Date.now(),
                judul: document.getElementById('judulModul').value,
                mataPelajaran: document.getElementById('mataPelajaran').value,
                kelas: document.getElementById('kelasModul').value,
                fase: document.getElementById('faseModul').value,
                penulis: document.getElementById('penulisModul').value,
                status: currentEditingModul ? currentEditingModul.status : 'draft',
                tanggalBuat: currentEditingModul ? currentEditingModul.tanggalBuat : new Date().toISOString().split('T')[0],
                deskripsiUmum: document.getElementById('deskripsiUmum').value,
                kompetensiAwal: document.getElementById('kompetensiAwal').value,
                targetPeserta: document.getElementById('targetPeserta').value,
                profilPancasila: profilPancasila,
                modelPembelajaran: document.getElementById('modelPembelajaran').value,
                saranaPrasarana: document.getElementById('saranaPrasarana').value,
                tujuanPembelajaran: document.getElementById('tujuanPembelajaran').value,
                pemahamanBermakna: document.getElementById('pemahamanBermakna').value,
                pertanyaanPemantik: document.getElementById('pertanyaanPemantik').value,
                kegiatanPembelajaran: document.getElementById('kegiatanPembelajaran').value,
                asesmen: document.getElementById('asesmen').value,
                pengayaanRemedial: document.getElementById('pengayaanRemedial').value,
                refleksi: document.getElementById('refleksi').value,
                lkpd: document.getElementById('lkpd').value,
                bahanBacaan: document.getElementById('bahanBacaan').value,
                glosarium: document.getElementById('glosarium').value,
                daftarPustaka: document.getElementById('daftarPustaka').value,
                mediaPembelajaran: document.getElementById('mediaPembelajaran').value
            };
            
            if (currentEditingModul) {
                const index = modulData.findIndex(m => m.id === currentEditingModul.id);
                modulData[index] = modulBaru;
                showNotification('Modul berhasil diperbarui!', 'success');
            } else {
                modulData.push(modulBaru);
                showNotification('Modul berhasil dibuat!', 'success');
            }
            
            loadModulList();
            hideAddModulModal();
        }

        function saveAsDraft() {
            const profilPancasila = Array.from(document.querySelectorAll('input[name="profilPancasila"]:checked')).map(cb => cb.value);
            
            const modulBaru = {
                id: currentEditingModul ? currentEditingModul.id : Date.now(),
                judul: document.getElementById('judulModul').value || 'Draft Modul',
                mataPelajaran: document.getElementById('mataPelajaran').value || 'Belum dipilih',
                kelas: document.getElementById('kelasModul').value || 'Belum dipilih',
                fase: document.getElementById('faseModul').value || 'Belum dipilih',
                penulis: document.getElementById('penulisModul').value || 'Belum diisi',
                status: 'draft',
                tanggalBuat: currentEditingModul ? currentEditingModul.tanggalBuat : new Date().toISOString().split('T')[0],
                deskripsiUmum: document.getElementById('deskripsiUmum').value || 'Belum diisi',
                kompetensiAwal: document.getElementById('kompetensiAwal').value || 'Belum diisi',
                targetPeserta: document.getElementById('targetPeserta').value || 'Belum diisi',
                profilPancasila: profilPancasila,
                modelPembelajaran: document.getElementById('modelPembelajaran').value || 'Belum dipilih',
                saranaPrasarana: document.getElementById('saranaPrasarana').value || 'Belum diisi',
                tujuanPembelajaran: document.getElementById('tujuanPembelajaran').value || 'Belum diisi',
                pemahamanBermakna: document.getElementById('pemahamanBermakna').value || 'Belum diisi',
                pertanyaanPemantik: document.getElementById('pertanyaanPemantik').value || 'Belum diisi',
                kegiatanPembelajaran: document.getElementById('kegiatanPembelajaran').value || 'Belum diisi',
                asesmen: document.getElementById('asesmen').value || 'Belum diisi',
                pengayaanRemedial: document.getElementById('pengayaanRemedial').value || 'Belum diisi',
                refleksi: document.getElementById('refleksi').value || 'Belum diisi',
                lkpd: document.getElementById('lkpd').value || 'Belum diisi',
                bahanBacaan: document.getElementById('bahanBacaan').value || 'Belum diisi',
                glosarium: document.getElementById('glosarium').value || 'Belum diisi',
                daftarPustaka: document.getElementById('daftarPustaka').value || 'Belum diisi',
                mediaPembelajaran: document.getElementById('mediaPembelajaran').value || 'Belum diisi'
            };
            
            if (currentEditingModul) {
                const index = modulData.findIndex(m => m.id === currentEditingModul.id);
                modulData[index] = modulBaru;
                showNotification('Draft berhasil diperbarui!', 'success');
            } else {
                modulData.push(modulBaru);
                showNotification('Draft berhasil disimpan!', 'success');
            }
            
            loadModulList();
            hideAddModulModal();
        }

        function viewModul(id) {
            const modul = modulData.find(m => m.id === id);
            if (!modul) return;
            
            document.getElementById('viewModulTitle').textContent = modul.judul;
            
            const content = document.getElementById('viewModulContent');
            content.innerHTML = `
                <!-- Informasi Umum -->
                <div class="bg-blue-50 rounded-lg p-6 mb-6">
                    <h4 class="text-lg font-semibold text-blue-800 mb-4 flex items-center">
                        <i data-lucide="info" class="w-5 h-5 mr-2"></i>
                        Informasi Umum
                    </h4>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                        <div><strong>Judul Modul:</strong> ${modul.judul}</div>
                        <div><strong>Mata Pelajaran:</strong> ${modul.mataPelajaran}</div>
                        <div><strong>Kelas:</strong> ${modul.kelas}</div>
                        <div><strong>Fase:</strong> ${modul.fase}</div>
                        <div><strong>Penulis:</strong> ${modul.penulis}</div>
                        <div><strong>Tanggal Dibuat:</strong> ${new Date(modul.tanggalBuat).toLocaleDateString('id-ID')}</div>
                    </div>
                    <div class="mt-4">
                        <div><strong>Deskripsi Umum:</strong></div>
                        <p class="text-gray-700 mt-1">${modul.deskripsiUmum}</p>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                        <div>
                            <strong>Kompetensi Awal:</strong>
                            <p class="text-gray-700 mt-1">${modul.kompetensiAwal}</p>
                        </div>
                        <div>
                            <strong>Target Peserta Didik:</strong>
                            <p class="text-gray-700 mt-1">${modul.targetPeserta}</p>
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                        <div>
                            <strong>Profil Pelajar Pancasila:</strong>
                            <p class="text-gray-700 mt-1">${modul.profilPancasila.join(', ')}</p>
                        </div>
                        <div>
                            <strong>Model Pembelajaran:</strong>
                            <p class="text-gray-700 mt-1">${modul.modelPembelajaran}</p>
                        </div>
                    </div>
                    <div class="mt-4">
                        <strong>Sarana dan Prasarana:</strong>
                        <p class="text-gray-700 mt-1">${modul.saranaPrasarana}</p>
                    </div>
                </div>

                <!-- Komponen Inti -->
                <div class="bg-green-50 rounded-lg p-6 mb-6">
                    <h4 class="text-lg font-semibold text-green-800 mb-4 flex items-center">
                        <i data-lucide="target" class="w-5 h-5 mr-2"></i>
                        Komponen Inti
                    </h4>
                    <div class="space-y-4 text-sm">
                        <div>
                            <strong>Tujuan Pembelajaran:</strong>
                            <p class="text-gray-700 mt-1">${modul.tujuanPembelajaran}</p>
                        </div>
                        <div>
                            <strong>Pemahaman Bermakna:</strong>
                            <p class="text-gray-700 mt-1">${modul.pemahamanBermakna}</p>
                        </div>
                        <div>
                            <strong>Pertanyaan Pemantik:</strong>
                            <p class="text-gray-700 mt-1">${modul.pertanyaanPemantik}</p>
                        </div>
                        <div>
                            <strong>Kegiatan Pembelajaran:</strong>
                            <p class="text-gray-700 mt-1">${modul.kegiatanPembelajaran}</p>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <strong>Asesmen:</strong>
                                <p class="text-gray-700 mt-1">${modul.asesmen}</p>
                            </div>
                            <div>
                                <strong>Pengayaan dan Remedial:</strong>
                                <p class="text-gray-700 mt-1">${modul.pengayaanRemedial}</p>
                            </div>
                        </div>
                        <div>
                            <strong>Refleksi:</strong>
                            <p class="text-gray-700 mt-1">${modul.refleksi}</p>
                        </div>
                    </div>
                </div>

                <!-- Lampiran -->
                <div class="bg-purple-50 rounded-lg p-6">
                    <h4 class="text-lg font-semibold text-purple-800 mb-4 flex items-center">
                        <i data-lucide="paperclip" class="w-5 h-5 mr-2"></i>
                        Lampiran
                    </h4>
                    <div class="space-y-4 text-sm">
                        <div>
                            <strong>Lembar Kerja Peserta Didik (LKPD):</strong>
                            <p class="text-gray-700 mt-1">${modul.lkpd}</p>
                        </div>
                        <div>
                            <strong>Bahan Bacaan:</strong>
                            <p class="text-gray-700 mt-1">${modul.bahanBacaan}</p>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <strong>Glosarium:</strong>
                                <p class="text-gray-700 mt-1">${modul.glosarium}</p>
                            </div>
                            <div>
                                <strong>Daftar Pustaka:</strong>
                                <p class="text-gray-700 mt-1">${modul.daftarPustaka}</p>
                            </div>
                        </div>
                        <div>
                            <strong>Media Pembelajaran:</strong>
                            <p class="text-gray-700 mt-1">${modul.mediaPembelajaran}</p>
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('viewModulModal').classList.remove('hidden');
            lucide.createIcons();
        }

        function hideViewModulModal() {
            document.getElementById('viewModulModal').classList.add('hidden');
        }

        function editModul(id) {
            const modul = modulData.find(m => m.id === id);
            if (!modul) return;
            
            currentEditingModul = modul;
            
            // Fill form with existing data
            document.getElementById('judulModul').value = modul.judul;
            document.getElementById('mataPelajaran').value = modul.mataPelajaran;
            document.getElementById('kelasModul').value = modul.kelas;
            document.getElementById('faseModul').value = modul.fase;
            document.getElementById('penulisModul').value = modul.penulis;
            document.getElementById('deskripsiUmum').value = modul.deskripsiUmum;
            document.getElementById('kompetensiAwal').value = modul.kompetensiAwal;
            document.getElementById('targetPeserta').value = modul.targetPeserta;
            document.getElementById('modelPembelajaran').value = modul.modelPembelajaran;
            document.getElementById('saranaPrasarana').value = modul.saranaPrasarana;
            document.getElementById('tujuanPembelajaran').value = modul.tujuanPembelajaran;
            document.getElementById('pemahamanBermakna').value = modul.pemahamanBermakna;
            document.getElementById('pertanyaanPemantik').value = modul.pertanyaanPemantik;
            document.getElementById('kegiatanPembelajaran').value = modul.kegiatanPembelajaran;
            document.getElementById('asesmen').value = modul.asesmen;
            document.getElementById('pengayaanRemedial').value = modul.pengayaanRemedial;
            document.getElementById('refleksi').value = modul.refleksi;
            document.getElementById('lkpd').value = modul.lkpd;
            document.getElementById('bahanBacaan').value = modul.bahanBacaan;
            document.getElementById('glosarium').value = modul.glosarium;
            document.getElementById('daftarPustaka').value = modul.daftarPustaka;
            document.getElementById('mediaPembelajaran').value = modul.mediaPembelajaran;
            
            // Check profil pancasila checkboxes
            document.querySelectorAll('input[name="profilPancasila"]').forEach(cb => {
                cb.checked = modul.profilPancasila.includes(cb.value);
            });
            
            hideViewModulModal();
            showAddModulModal();
        }

        function duplicateModul(id) {
            const modul = modulData.find(m => m.id === id);
            if (!modul) return;
            
            const duplicatedModul = {
                ...modul,
                id: Date.now(),
                judul: modul.judul + ' (Copy)',
                status: 'draft',
                tanggalBuat: new Date().toISOString().split('T')[0]
            };
            
            modulData.push(duplicatedModul);
            loadModulList();
            showNotification('Modul berhasil diduplikasi!', 'success');
        }

        // Jurnal Functions
        function updateDateTime() {
            const now = new Date();
            const options = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit',
                timeZone: 'Asia/Jakarta'
            };
            document.getElementById('currentDateTime').innerHTML = `
                <i data-lucide="clock" class="w-4 h-4 mr-1"></i>
                ${now.toLocaleDateString('id-ID', options)} WIB
            `;
            
            // Set today's date for jurnal form
            const today = now.toISOString().split('T')[0];
            const tanggalInput = document.getElementById('tanggalJurnal');
            if (tanggalInput && !tanggalInput.value) {
                tanggalInput.value = today;
            }
            
            // Update every second
            setTimeout(updateDateTime, 1000);
        }

        function updateJurnalStats() {
            const today = new Date().toISOString().split('T')[0];
            const thisWeekStart = new Date();
            thisWeekStart.setDate(thisWeekStart.getDate() - thisWeekStart.getDay());
            
            const todayCount = jurnalData.filter(j => j.tanggal === today).length;
            const weekCount = jurnalData.filter(j => {
                const jurnalDate = new Date(j.tanggal);
                return jurnalDate >= thisWeekStart;
            }).length;
            const totalCount = jurnalData.length;
            const pendingCount = jurnalData.filter(j => j.status === 'submitted').length;
            
            document.getElementById('todayJournals').textContent = todayCount;
            document.getElementById('weekJournals').textContent = weekCount;
            document.getElementById('totalJournals').textContent = totalCount;
            document.getElementById('pendingReview').textContent = pendingCount;
        }

        function loadJurnalList() {
            const container = document.getElementById('jurnalList');
            container.innerHTML = '';
            
            if (jurnalData.length === 0) {
                container.innerHTML = `
                    <div class="bg-white rounded-xl shadow-sm p-8 text-center">
                        <i data-lucide="file-text" class="w-16 h-16 mx-auto text-gray-400 mb-4"></i>
                        <h3 class="text-lg font-semibold text-gray-800 mb-2">Belum Ada Jurnal</h3>
                        <p class="text-gray-600 mb-4">Mulai buat jurnal mengajar pertama Anda</p>
                        <button onclick="showAddJurnalModal()" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors">
                            Buat Jurnal Baru
                        </button>
                    </div>
                `;
                lucide.createIcons();
                return;
            }
            
            jurnalData.forEach(jurnal => {
                const statusColors = {
                    'draft': 'bg-yellow-100 text-yellow-800',
                    'submitted': 'bg-blue-100 text-blue-800',
                    'reviewed': 'bg-purple-100 text-purple-800',
                    'approved': 'bg-green-100 text-green-800'
                };
                
                const statusText = {
                    'draft': 'Draft',
                    'submitted': 'Terkirim',
                    'reviewed': 'Direview',
                    'approved': 'Disetujui'
                };
                
                const card = document.createElement('div');
                card.className = 'bg-white rounded-xl shadow-sm p-6 card-hover border-l-4 border-blue-500';
                card.innerHTML = `
                    <div class="flex justify-between items-start mb-4">
                        <div class="flex-1">
                            <div class="flex items-center space-x-4 mb-2">
                                <h3 class="text-lg font-semibold text-gray-800">${jurnal.mataPelajaran}</h3>
                                <span class="px-3 py-1 rounded-full text-xs font-medium ${statusColors[jurnal.status]}">
                                    ${statusText[jurnal.status]}
                                </span>
                            </div>
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600 mb-3">
                                <span class="flex items-center">
                                    <i data-lucide="user" class="w-4 h-4 mr-1"></i>
                                    ${jurnal.namaGuru}
                                </span>
                                <span class="flex items-center">
                                    <i data-lucide="users" class="w-4 h-4 mr-1"></i>
                                    Kelas ${jurnal.kelas}
                                </span>
                                <span class="flex items-center">
                                    <i data-lucide="calendar" class="w-4 h-4 mr-1"></i>
                                    ${jurnal.hari}, ${new Date(jurnal.tanggal).toLocaleDateString('id-ID')}
                                </span>
                                <span class="flex items-center">
                                    <i data-lucide="clock" class="w-4 h-4 mr-1"></i>
                                    ${jurnal.waktuMulai} - ${jurnal.waktuSelesai}
                                </span>
                            </div>
                            <p class="text-sm text-gray-700 mb-2"><strong>Materi:</strong> ${jurnal.materiPokok}</p>
                            <p class="text-sm text-gray-600">${jurnal.kegiatanPembelajaran.substring(0, 150)}...</p>
                            <div class="flex items-center space-x-4 mt-3 text-sm text-gray-500">
                                <span class="flex items-center">
                                    <i data-lucide="check-circle" class="w-4 h-4 mr-1 text-green-500"></i>
                                    ${jurnal.siswaHadir} hadir
                                </span>
                                <span class="flex items-center">
                                    <i data-lucide="x-circle" class="w-4 h-4 mr-1 text-red-500"></i>
                                    ${jurnal.siswaTidakHadir} tidak hadir
                                </span>
                                ${jurnal.dokumentasi.length > 0 ? `
                                    <span class="flex items-center">
                                        <i data-lucide="camera" class="w-4 h-4 mr-1 text-blue-500"></i>
                                        ${jurnal.dokumentasi.length} foto
                                    </span>
                                ` : ''}
                            </div>
                        </div>
                    </div>
                    
                    <div class="flex space-x-2">
                        <button onclick="viewJurnal(${jurnal.id})" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg text-sm transition-colors">
                            <i data-lucide="eye" class="w-4 h-4 mr-1 inline"></i>
                            Lihat Detail
                        </button>
                        <button onclick="editJurnal(${jurnal.id})" class="px-3 py-2 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-lg text-sm transition-colors">
                            <i data-lucide="edit" class="w-4 h-4"></i>
                        </button>
                        <button onclick="downloadJurnalPDF(${jurnal.id})" class="px-3 py-2 bg-green-100 text-green-700 hover:bg-green-200 rounded-lg text-sm transition-colors">
                            <i data-lucide="download" class="w-4 h-4"></i>
                        </button>
                    </div>
                `;
                container.appendChild(card);
            });
            
            lucide.createIcons();
        }

        function showAddJurnalModal() {
            document.getElementById('addJurnalModal').classList.remove('hidden');
            currentEditingJurnal = null;
            
            // Set current date and time
            const now = new Date();
            document.getElementById('tanggalJurnal').value = now.toISOString().split('T')[0];
            
            // Set current day
            const days = ['Minggu', 'Senin', 'Selasa', 'Rabu', 'Kamis', 'Jumat', 'Sabtu'];
            const currentDay = days[now.getDay()];
            if (currentDay !== 'Minggu') {
                document.getElementById('hariJurnal').value = currentDay;
            }
        }

        function hideAddJurnalModal() {
            document.getElementById('addJurnalModal').classList.add('hidden');
            document.getElementById('addJurnalForm').reset();
            document.getElementById('previewContainer').classList.add('hidden');
            currentEditingJurnal = null;
        }

        function handleFileUpload(e) {
            const files = e.target.files;
            const previewContainer = document.getElementById('previewContainer');
            
            if (files.length > 0) {
                previewContainer.classList.remove('hidden');
                previewContainer.innerHTML = '';
                
                Array.from(files).forEach((file, index) => {
                    if (file.size > 5 * 1024 * 1024) {
                        showNotification(`File ${file.name} terlalu besar (maksimal 5MB)`, 'error');
                        return;
                    }
                    
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        const preview = document.createElement('div');
                        preview.className = 'relative';
                        preview.innerHTML = `
                            <img src="${e.target.result}" class="w-full h-24 object-cover rounded-lg">
                            <button type="button" onclick="removePreview(${index})" class="absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs hover:bg-red-600">
                                ×
                            </button>
                            <p class="text-xs text-gray-500 mt-1 truncate">${file.name}</p>
                        `;
                        previewContainer.appendChild(preview);
                    };
                    reader.readAsDataURL(file);
                });
            } else {
                previewContainer.classList.add('hidden');
            }
        }

        function removePreview(index) {
            const fileInput = document.getElementById('dokumentasiFoto');
            const dt = new DataTransfer();
            const files = fileInput.files;
            
            for (let i = 0; i < files.length; i++) {
                if (i !== index) {
                    dt.items.add(files[i]);
                }
            }
            
            fileInput.files = dt.files;
            handleFileUpload({ target: fileInput });
        }

        function handleAddJurnal(e) {
            e.preventDefault();
            
            const files = document.getElementById('dokumentasiFoto').files;
            const dokumentasi = Array.from(files).map(file => file.name);
            
            const jurnalBaru = {
                id: currentEditingJurnal ? currentEditingJurnal.id : Date.now(),
                namaGuru: document.getElementById('namaGuru').value,
                kelas: document.getElementById('kelasJurnal').value,
                hari: document.getElementById('hariJurnal').value,
                tanggal: document.getElementById('tanggalJurnal').value,
                waktuMulai: document.getElementById('waktuMulai').value,
                waktuSelesai: document.getElementById('waktuSelesai').value,
                mataPelajaran: document.getElementById('mataPelajaranJurnal').value,
                materiPokok: document.getElementById('materiPokok').value,
                kegiatanPembelajaran: document.getElementById('kegiatanPembelajaranJurnal').value,
                siswaHadir: parseInt(document.getElementById('siswaHadir').value),
                siswaTidakHadir: parseInt(document.getElementById('siswaTidakHadir').value),
                kendala: document.getElementById('kendala').value,
                dokumentasi: dokumentasi,
                status: 'submitted',
                tanggalBuat: new Date().toISOString()
            };
            
            if (currentEditingJurnal) {
                const index = jurnalData.findIndex(j => j.id === currentEditingJurnal.id);
                jurnalData[index] = jurnalBaru;
                showNotification('Jurnal berhasil diperbarui dan dikirim ke Kepala Sekolah!', 'success');
            } else {
                jurnalData.push(jurnalBaru);
                showNotification('Jurnal berhasil dibuat dan dikirim ke Kepala Sekolah!', 'success');
            }
            
            // Update current teacher display
            document.getElementById('currentTeacher').textContent = jurnalBaru.namaGuru;
            
            loadJurnalList();
            updateJurnalStats();
            hideAddJurnalModal();
        }

        function saveJurnalAsDraft() {
            const files = document.getElementById('dokumentasiFoto').files;
            const dokumentasi = Array.from(files).map(file => file.name);
            
            const jurnalBaru = {
                id: currentEditingJurnal ? currentEditingJurnal.id : Date.now(),
                namaGuru: document.getElementById('namaGuru').value || 'Belum dipilih',
                kelas: document.getElementById('kelasJurnal').value || 'Belum dipilih',
                hari: document.getElementById('hariJurnal').value || 'Belum dipilih',
                tanggal: document.getElementById('tanggalJurnal').value || new Date().toISOString().split('T')[0],
                waktuMulai: document.getElementById('waktuMulai').value || '00:00',
                waktuSelesai: document.getElementById('waktuSelesai').value || '00:00',
                mataPelajaran: document.getElementById('mataPelajaranJurnal').value || 'Belum diisi',
                materiPokok: document.getElementById('materiPokok').value || 'Belum diisi',
                kegiatanPembelajaran: document.getElementById('kegiatanPembelajaranJurnal').value || 'Belum diisi',
                siswaHadir: parseInt(document.getElementById('siswaHadir').value) || 0,
                siswaTidakHadir: parseInt(document.getElementById('siswaTidakHadir').value) || 0,
                kendala: document.getElementById('kendala').value || '',
                dokumentasi: dokumentasi,
                status: 'draft',
                tanggalBuat: new Date().toISOString()
            };
            
            if (currentEditingJurnal) {
                const index = jurnalData.findIndex(j => j.id === currentEditingJurnal.id);
                jurnalData[index] = jurnalBaru;
                showNotification('Draft jurnal berhasil diperbarui!', 'success');
            } else {
                jurnalData.push(jurnalBaru);
                showNotification('Draft jurnal berhasil disimpan!', 'success');
            }
            
            loadJurnalList();
            updateJurnalStats();
            hideAddJurnalModal();
        }

        function viewJurnal(id) {
            const jurnal = jurnalData.find(j => j.id === id);
            if (!jurnal) return;
            
            document.getElementById('viewJurnalTitle').textContent = `Jurnal ${jurnal.mataPelajaran} - ${jurnal.namaGuru}`;
            
            const content = document.getElementById('viewJurnalContent');
            content.innerHTML = `
                <!-- Informasi Dasar -->
                <div class="bg-blue-50 rounded-lg p-6 mb-6">
                    <h4 class="text-lg font-semibold text-blue-800 mb-4 flex items-center">
                        <i data-lucide="info" class="w-5 h-5 mr-2"></i>
                        Informasi Dasar
                    </h4>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                        <div><strong>Nama Guru:</strong> ${jurnal.namaGuru}</div>
                        <div><strong>Kelas:</strong> ${jurnal.kelas}</div>
                        <div><strong>Hari/Tanggal:</strong> ${jurnal.hari}, ${new Date(jurnal.tanggal).toLocaleDateString('id-ID')}</div>
                        <div><strong>Waktu:</strong> ${jurnal.waktuMulai} - ${jurnal.waktuSelesai} WIB</div>
                        <div><strong>Mata Pelajaran:</strong> ${jurnal.mataPelajaran}</div>
                        <div><strong>Status:</strong> <span class="px-2 py-1 rounded-full text-xs ${
                            jurnal.status === 'approved' ? 'bg-green-100 text-green-800' :
                            jurnal.status === 'submitted' ? 'bg-blue-100 text-blue-800' :
                            jurnal.status === 'reviewed' ? 'bg-purple-100 text-purple-800' :
                            'bg-yellow-100 text-yellow-800'
                        }">${
                            jurnal.status === 'approved' ? 'Disetujui' :
                            jurnal.status === 'submitted' ? 'Terkirim' :
                            jurnal.status === 'reviewed' ? 'Direview' : 'Draft'
                        }</span></div>
                    </div>
                </div>

                <!-- Kegiatan Pembelajaran -->
                <div class="bg-green-50 rounded-lg p-6 mb-6">
                    <h4 class="text-lg font-semibold text-green-800 mb-4 flex items-center">
                        <i data-lucide="book-open" class="w-5 h-5 mr-2"></i>
                        Kegiatan Pembelajaran
                    </h4>
                    <div class="space-y-4 text-sm">
                        <div>
                            <strong>Materi Pokok:</strong>
                            <p class="text-gray-700 mt-1">${jurnal.materiPokok}</p>
                        </div>
                        <div>
                            <strong>Kegiatan Pembelajaran:</strong>
                            <p class="text-gray-700 mt-1">${jurnal.kegiatanPembelajaran}</p>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <strong>Kehadiran Siswa:</strong>
                                <div class="flex items-center space-x-4 mt-1">
                                    <span class="flex items-center text-green-600">
                                        <i data-lucide="check-circle" class="w-4 h-4 mr-1"></i>
                                        ${jurnal.siswaHadir} hadir
                                    </span>
                                    <span class="flex items-center text-red-600">
                                        <i data-lucide="x-circle" class="w-4 h-4 mr-1"></i>
                                        ${jurnal.siswaTidakHadir} tidak hadir
                                    </span>
                                </div>
                            </div>
                            <div>
                                <strong>Total Siswa:</strong>
                                <p class="text-gray-700 mt-1">${jurnal.siswaHadir + jurnal.siswaTidakHadir} siswa</p>
                            </div>
                        </div>
                        ${jurnal.kendala ? `
                            <div>
                                <strong>Kendala/Hambatan:</strong>
                                <p class="text-gray-700 mt-1">${jurnal.kendala}</p>
                            </div>
                        ` : ''}
                    </div>
                </div>

                <!-- Dokumentasi -->
                ${jurnal.dokumentasi.length > 0 ? `
                    <div class="bg-purple-50 rounded-lg p-6">
                        <h4 class="text-lg font-semibold text-purple-800 mb-4 flex items-center">
                            <i data-lucide="camera" class="w-5 h-5 mr-2"></i>
                            Dokumentasi Kegiatan (${jurnal.dokumentasi.length} foto)
                        </h4>
                        <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                            ${jurnal.dokumentasi.map(foto => `
                                <div class="bg-gray-200 rounded-lg p-4 text-center">
                                    <i data-lucide="image" class="w-8 h-8 mx-auto text-gray-500 mb-2"></i>
                                    <p class="text-xs text-gray-600">${foto}</p>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                ` : ''}
            `;
            
            document.getElementById('viewJurnalModal').classList.remove('hidden');
            lucide.createIcons();
        }

        function hideViewJurnalModal() {
            document.getElementById('viewJurnalModal').classList.add('hidden');
        }

        function editJurnal(id) {
            const jurnal = jurnalData.find(j => j.id === id);
            if (!jurnal) return;
            
            currentEditingJurnal = jurnal;
            
            // Fill form with existing data
            document.getElementById('namaGuru').value = jurnal.namaGuru;
            document.getElementById('kelasJurnal').value = jurnal.kelas;
            document.getElementById('hariJurnal').value = jurnal.hari;
            document.getElementById('tanggalJurnal').value = jurnal.tanggal;
            document.getElementById('waktuMulai').value = jurnal.waktuMulai;
            document.getElementById('waktuSelesai').value = jurnal.waktuSelesai;
            document.getElementById('mataPelajaranJurnal').value = jurnal.mataPelajaran;
            document.getElementById('materiPokok').value = jurnal.materiPokok;
            document.getElementById('kegiatanPembelajaranJurnal').value = jurnal.kegiatanPembelajaran;
            document.getElementById('siswaHadir').value = jurnal.siswaHadir;
            document.getElementById('siswaTidakHadir').value = jurnal.siswaTidakHadir;
            document.getElementById('kendala').value = jurnal.kendala;
            
            hideViewJurnalModal();
            showAddJurnalModal();
        }

        function downloadJurnalPDF(id) {
            const jurnal = jurnalData.find(j => j.id === id);
            if (!jurnal) return;
            
            showNotification(`Mengunduh jurnal ${jurnal.mataPelajaran} - ${jurnal.namaGuru}...`, 'success');
            
            // In a real application, this would generate and download a PDF
            setTimeout(() => {
                showNotification('Jurnal berhasil diunduh!', 'success');
            }, 2000);
        }

        function downloadJurnal() {
            showNotification('Mengunduh jurnal...', 'success');
            setTimeout(() => {
                showNotification('Jurnal berhasil diunduh!', 'success');
            }, 2000);
        }

        function previewJurnal() {
            showNotification('Membuka preview jurnal...', 'success');
        }

        // BK Functions
        function loadAbsensiList() {
            const container = document.getElementById('absensiList');
            container.innerHTML = '';
            
            if (absensiData.length === 0) {
                container.innerHTML = `
                    <div class="bg-white rounded-xl shadow-sm p-8 text-center">
                        <i data-lucide="clipboard-list" class="w-16 h-16 mx-auto text-gray-400 mb-4"></i>
                        <h3 class="text-lg font-semibold text-gray-800 mb-2">Belum Ada Data Absensi</h3>
                        <p class="text-gray-600 mb-4">Mulai input absensi siswa pertama Anda</p>
                        <button onclick="showAddAbsensiModal()" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors">
                            Input Absensi
                        </button>
                    </div>
                `;
                lucide.createIcons();
                return;
            }
            
            absensiData.forEach(absensi => {
                const card = document.createElement('div');
                card.className = 'bg-white rounded-xl shadow-sm p-6 card-hover border-l-4 border-blue-500';
                card.innerHTML = `
                    <div class="flex justify-between items-start mb-4">
                        <div class="flex-1">
                            <div class="flex items-center space-x-4 mb-2">
                                <h3 class="text-lg font-semibold text-gray-800">Kelas ${absensi.kelas}</h3>
                                <span class="text-sm text-gray-500">${new Date(absensi.tanggal).toLocaleDateString('id-ID')}</span>
                            </div>
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600 mb-3">
                                <span class="flex items-center">
                                    <i data-lucide="user" class="w-4 h-4 mr-1"></i>
                                    ${absensi.guruBK}
                                </span>
                                <span class="flex items-center text-green-600">
                                    <i data-lucide="check-circle" class="w-4 h-4 mr-1"></i>
                                    ${absensi.totalHadir} Hadir
                                </span>
                                <span class="flex items-center text-red-600">
                                    <i data-lucide="heart-pulse" class="w-4 h-4 mr-1"></i>
                                    ${absensi.totalSakit} Sakit
                                </span>
                                <span class="flex items-center text-yellow-600">
                                    <i data-lucide="clock" class="w-4 h-4 mr-1"></i>
                                    ${absensi.totalIzin} Izin
                                </span>
                            </div>
                            ${absensi.totalAlpha > 0 ? `
                                <div class="flex items-center text-sm text-gray-600">
                                    <i data-lucide="x-circle" class="w-4 h-4 mr-1 text-gray-500"></i>
                                    ${absensi.totalAlpha} Alpha
                                </div>
                            ` : ''}
                        </div>
                    </div>
                    
                    <div class="flex space-x-2">
                        <button onclick="viewAbsensi(${absensi.id})" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg text-sm transition-colors">
                            <i data-lucide="eye" class="w-4 h-4 mr-1 inline"></i>
                            Lihat Detail
                        </button>
                        <button onclick="editAbsensi(${absensi.id})" class="px-3 py-2 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-lg text-sm transition-colors">
                            <i data-lucide="edit" class="w-4 h-4"></i>
                        </button>
                        <button onclick="downloadAbsensiPDF(${absensi.id})" class="px-3 py-2 bg-green-100 text-green-700 hover:bg-green-200 rounded-lg text-sm transition-colors">
                            <i data-lucide="download" class="w-4 h-4"></i>
                        </button>
                    </div>
                `;
                container.appendChild(card);
            });
            
            lucide.createIcons();
        }

        function updateAbsensiStats() {
            const today = new Date().toISOString().split('T')[0];
            
            let totalHadirHariIni = 0;
            let totalSakit = 0;
            let totalIzin = 0;
            let totalAlpha = 0;
            
            absensiData.forEach(absensi => {
                if (absensi.tanggal === today) {
                    totalHadirHariIni += absensi.totalHadir;
                }
                totalSakit += absensi.totalSakit;
                totalIzin += absensi.totalIzin;
                totalAlpha += absensi.totalAlpha;
            });
            
            document.getElementById('totalHadirHariIni').textContent = totalHadirHariIni;
            document.getElementById('totalSakit').textContent = totalSakit;
            document.getElementById('totalIzin').textContent = totalIzin;
            document.getElementById('totalAlpha').textContent = totalAlpha;
        }

        function showAddAbsensiModal() {
            document.getElementById('addAbsensiModal').classList.remove('hidden');
            
            // Set current date
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('tanggalAbsensi').value = today;
        }

        function hideAddAbsensiModal() {
            document.getElementById('addAbsensiModal').classList.add('hidden');
            document.getElementById('addAbsensiForm').reset();
            document.getElementById('siswaListContainer').classList.add('hidden');
        }

        function loadSiswaList() {
            const selectedKelas = document.getElementById('kelasAbsensi').value;
            const container = document.getElementById('siswaListContainer');
            const tableBody = document.getElementById('siswaTableBody');
            const kelasTitle = document.getElementById('kelasTitle');
            
            if (!selectedKelas) {
                container.classList.add('hidden');
                return;
            }
            
            container.classList.remove('hidden');
            kelasTitle.textContent = selectedKelas;
            
            const students = siswaKelas[selectedKelas] || [];
            tableBody.innerHTML = '';
            
            students.forEach((siswa, index) => {
                const row = document.createElement('tr');
                row.className = 'hover:bg-gray-50';
                row.innerHTML = `
                    <td class="border border-gray-300 px-4 py-2">${index + 1}</td>
                    <td class="border border-gray-300 px-4 py-2">${siswa}</td>
                    <td class="border border-gray-300 px-4 py-2 text-center">
                        <input type="radio" name="status_${index}" value="hadir" class="w-4 h-4 text-green-600" checked>
                    </td>
                    <td class="border border-gray-300 px-4 py-2 text-center">
                        <input type="radio" name="status_${index}" value="sakit" class="w-4 h-4 text-red-600">
                    </td>
                    <td class="border border-gray-300 px-4 py-2 text-center">
                        <input type="radio" name="status_${index}" value="izin" class="w-4 h-4 text-yellow-600">
                    </td>
                    <td class="border border-gray-300 px-4 py-2 text-center">
                        <input type="radio" name="status_${index}" value="alpha" class="w-4 h-4 text-gray-600">
                    </td>
                    <td class="border border-gray-300 px-4 py-2">
                        <input type="text" name="keterangan_${index}" class="w-full px-2 py-1 border border-gray-300 rounded text-sm" placeholder="Keterangan...">
                    </td>
                `;
                tableBody.appendChild(row);
            });
        }

        function markAllHadir() {
            const radios = document.querySelectorAll('input[type="radio"][value="hadir"]');
            radios.forEach(radio => {
                radio.checked = true;
            });
        }

        function clearAllAbsensi() {
            const radios = document.querySelectorAll('input[type="radio"]');
            radios.forEach(radio => {
                radio.checked = false;
            });
            
            const keteranganInputs = document.querySelectorAll('input[name^="keterangan_"]');
            keteranganInputs.forEach(input => {
                input.value = '';
            });
            
            // Set default to hadir
            markAllHadir();
        }

        function handleAddAbsensi(e) {
            e.preventDefault();
            
            const guruBK = document.getElementById('guruBK').value;
            const kelas = document.getElementById('kelasAbsensi').value;
            const tanggal = document.getElementById('tanggalAbsensi').value;
            
            const students = siswaKelas[kelas] || [];
            const siswaData = [];
            let totalHadir = 0, totalSakit = 0, totalIzin = 0, totalAlpha = 0;
            
            students.forEach((siswa, index) => {
                const statusRadio = document.querySelector(`input[name="status_${index}"]:checked`);
                const keterangan = document.querySelector(`input[name="keterangan_${index}"]`).value;
                
                const status = statusRadio ? statusRadio.value : 'hadir';
                
                siswaData.push({
                    nama: siswa,
                    status: status,
                    keterangan: keterangan
                });
                
                switch(status) {
                    case 'hadir': totalHadir++; break;
                    case 'sakit': totalSakit++; break;
                    case 'izin': totalIzin++; break;
                    case 'alpha': totalAlpha++; break;
                }
            });
            
            const absensiBaru = {
                id: Date.now(),
                guruBK: guruBK,
                kelas: kelas,
                tanggal: tanggal,
                siswa: siswaData,
                totalHadir: totalHadir,
                totalSakit: totalSakit,
                totalIzin: totalIzin,
                totalAlpha: totalAlpha,
                tanggalBuat: new Date().toISOString()
            };
            
            absensiData.push(absensiBaru);
            loadAbsensiList();
            updateAbsensiStats();
            hideAddAbsensiModal();
            
            showNotification(`Absensi kelas ${kelas} berhasil disimpan!`, 'success');
        }

        function viewAbsensi(id) {
            const absensi = absensiData.find(a => a.id === id);
            if (!absensi) return;
            
            showNotification(`Melihat detail absensi kelas ${absensi.kelas}`, 'success');
        }

        function editAbsensi(id) {
            const absensi = absensiData.find(a => a.id === id);
            if (!absensi) return;
            
            showNotification(`Edit absensi kelas ${absensi.kelas}`, 'success');
        }

        function downloadAbsensiPDF(id) {
            const absensi = absensiData.find(a => a.id === id);
            if (!absensi) return;
            
            showNotification(`Mengunduh absensi kelas ${absensi.kelas}...`, 'success');
        }

        function filterAbsensi() {
            showNotification('Filter absensi diterapkan', 'success');
        }

        // Wali Functions
        function showWaliTab(tabId) {
            // Hide all tab contents
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.add('hidden'));
            
            // Show selected tab
            document.getElementById(tabId + 'Tab').classList.remove('hidden');
            
            // Update active tab
            const tabButtons = document.querySelectorAll('.wali-tab');
            tabButtons.forEach(button => {
                button.classList.remove('border-blue-500', 'text-blue-600');
                button.classList.add('border-transparent', 'text-gray-500', 'hover:text-gray-700');
            });
            
            event.target.classList.add('border-blue-500', 'text-blue-600');
            event.target.classList.remove('border-transparent', 'text-gray-500', 'hover:text-gray-700');
            
            // Load content based on tab
            if (tabId === 'daftar') {
                loadSiswaWali();
            } else if (tabId === 'perilaku') {
                loadCatatanPerilaku();
            } else if (tabId === 'rekap') {
                loadRekapKehadiran();
            }
        }

        function loadSiswaWali() {
            const container = document.getElementById('siswaWaliList');
            const guruWali = document.getElementById('filterGuruWali').value;
            const kelas = document.getElementById('filterKelasWali').value;
            
            let filteredData = siswaWaliData;
            
            if (guruWali) {
                filteredData = filteredData.filter(siswa => siswa.guruWali === guruWali);
            }
            
            if (kelas) {
                filteredData = filteredData.filter(siswa => siswa.kelas === kelas);
            }
            
            container.innerHTML = '';
            
            if (filteredData.length === 0) {
                container.innerHTML = `
                    <div class="bg-white rounded-xl shadow-sm p-8 text-center">
                        <i data-lucide="users" class="w-16 h-16 mx-auto text-gray-400 mb-4"></i>
                        <h3 class="text-lg font-semibold text-gray-800 mb-2">Belum Ada Data Siswa</h3>
                        <p class="text-gray-600 mb-4">Tambahkan data siswa untuk memulai</p>
                        <button onclick="showAddSiswaModal()" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors">
                            Tambah Siswa
                        </button>
                    </div>
                `;
                lucide.createIcons();
                return;
            }
            
            filteredData.forEach(siswa => {
                const card = document.createElement('div');
                card.className = 'bg-white rounded-xl shadow-sm p-6 card-hover border-l-4 border-blue-500';
                card.innerHTML = `
                    <div class="flex justify-between items-start mb-4">
                        <div class="flex-1">
                            <div class="flex items-center space-x-4 mb-2">
                                <h3 class="text-lg font-semibold text-gray-800">${siswa.nama}</h3>
                                <span class="px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                                    ${siswa.kelas}
                                </span>
                            </div>
                            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600 mb-3">
                                <span class="flex items-center">
                                    <i data-lucide="id-card" class="w-4 h-4 mr-1"></i>
                                    NISN: ${siswa.nisn}
                                </span>
                                <span class="flex items-center">
                                    <i data-lucide="user" class="w-4 h-4 mr-1"></i>
                                    ${siswa.jenisKelamin}
                                </span>
                                <span class="flex items-center">
                                    <i data-lucide="calendar" class="w-4 h-4 mr-1"></i>
                                    ${new Date(siswa.tanggalLahir).toLocaleDateString('id-ID')}
                                </span>
                                <span class="flex items-center">
                                    <i data-lucide="map-pin" class="w-4 h-4 mr-1"></i>
                                    ${siswa.tempatLahir}
                                </span>
                            </div>
                            <div class="text-sm text-gray-600 mb-3">
                                <p><strong>Alamat:</strong> ${siswa.alamat}</p>
                                <p><strong>Guru Wali:</strong> ${siswa.guruWali}</p>
                            </div>
                            <div class="flex items-center space-x-4 text-sm">
                                <span class="flex items-center text-green-600">
                                    <i data-lucide="check-circle" class="w-4 h-4 mr-1"></i>
                                    ${siswa.kehadiran.hadir} Hadir
                                </span>
                                <span class="flex items-center text-red-600">
                                    <i data-lucide="heart-pulse" class="w-4 h-4 mr-1"></i>
                                    ${siswa.kehadiran.sakit} Sakit
                                </span>
                                <span class="flex items-center text-yellow-600">
                                    <i data-lucide="clock" class="w-4 h-4 mr-1"></i>
                                    ${siswa.kehadiran.izin} Izin
                                </span>
                                <span class="flex items-center text-gray-600">
                                    <i data-lucide="x-circle" class="w-4 h-4 mr-1"></i>
                                    ${siswa.kehadiran.alpha} Alpha
                                </span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="flex space-x-2">
                        <button onclick="viewSiswaDetail(${siswa.id})" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg text-sm transition-colors">
                            <i data-lucide="eye" class="w-4 h-4 mr-1 inline"></i>
                            Detail
                        </button>
                        <button onclick="editSiswa(${siswa.id})" class="px-3 py-2 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-lg text-sm transition-colors">
                            <i data-lucide="edit" class="w-4 h-4"></i>
                        </button>
                        <button onclick="hubungiOrtu(${siswa.id})" class="px-3 py-2 bg-green-100 text-green-700 hover:bg-green-200 rounded-lg text-sm transition-colors">
                            <i data-lucide="phone" class="w-4 h-4"></i>
                        </button>
                    </div>
                `;
                container.appendChild(card);
            });
            
            lucide.createIcons();
        }

        function updateWaliStats() {
            const totalSiswa = siswaWaliData.length;
            const hadirHariIni = siswaWaliData.reduce((sum, siswa) => sum + siswa.kehadiran.hadir, 0);
            const perluPerhatian = siswaWaliData.filter(siswa => 
                siswa.kehadiran.alpha > 3 || siswa.kehadiran.sakit > 5
            ).length;
            const prestasiBulan = siswaWaliData.reduce((sum, siswa) => 
                sum + siswa.catatan.filter(c => c.jenis === 'Prestasi').length, 0
            );
            
            document.getElementById('totalSiswaWali').textContent = totalSiswa;
            document.getElementById('hadirHariIni').textContent = Math.floor(hadirHariIni / 20); // Estimasi
            document.getElementById('perluPerhatian').textContent = perluPerhatian;
            document.getElementById('prestasiBulan').textContent = prestasiBulan;
        }

        function searchSiswaWali() {
            const searchTerm = document.getElementById('searchSiswa').value.toLowerCase();
            const cards = document.querySelectorAll('#siswaWaliList .card-hover');
            
            cards.forEach(card => {
                const nama = card.querySelector('h3').textContent.toLowerCase();
                if (nama.includes(searchTerm)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        function showAddSiswaModal() {
            document.getElementById('addSiswaModal').classList.remove('hidden');
        }

        function hideAddSiswaModal() {
            document.getElementById('addSiswaModal').classList.add('hidden');
            document.getElementById('addSiswaForm').reset();
        }

        function handleAddSiswa(e) {
            e.preventDefault();
            
            const siswaBaru = {
                id: Date.now(),
                nama: document.getElementById('namaSiswa').value,
                nisn: document.getElementById('nisnSiswa').value,
                kelas: document.getElementById('kelasSiswa').value,
                jenisKelamin: document.getElementById('jenisKelaminSiswa').value,
                tanggalLahir: document.getElementById('tanggalLahirSiswa').value,
                tempatLahir: document.getElementById('tempatLahirSiswa').value,
                alamat: document.getElementById('alamatSiswa').value,
                teleponSiswa: document.getElementById('teleponSiswa').value,
                emailSiswa: document.getElementById('emailSiswa').value,
                namaAyah: document.getElementById('namaAyah').value,
                pekerjaanAyah: document.getElementById('pekerjaanAyah').value,
                teleponAyah: document.getElementById('teleponAyah').value,
                namaIbu: document.getElementById('namaIbu').value,
                pekerjaanIbu: document.getElementById('pekerjaanIbu').value,
                teleponIbu: document.getElementById('teleponIbu').value,
                guruWali: document.getElementById('filterGuruWali').value || 'Belum ditentukan',
                kehadiran: {
                    hadir: 0,
                    sakit: 0,
                    izin: 0,
                    alpha: 0
                },
                catatan: []
            };
            
            siswaWaliData.push(siswaBaru);
            loadSiswaWali();
            updateWaliStats();
            hideAddSiswaModal();
            
            showNotification(`Data siswa ${siswaBaru.nama} berhasil ditambahkan!`, 'success');
        }

        function loadKehadiranSiswa() {
            const kelas = document.getElementById('kelasKehadiran').value;
            const container = document.getElementById('kehadiranSiswaList');
            
            if (!kelas) {
                container.classList.add('hidden');
                return;
            }
            
            const siswaKelas = siswaWaliData.filter(siswa => siswa.kelas === kelas);
            
            container.classList.remove('hidden');
            container.innerHTML = `
                <div class="bg-white rounded-lg border p-4">
                    <h4 class="font-semibold text-gray-800 mb-4">Kehadiran Kelas ${kelas}</h4>
                    <div class="overflow-x-auto">
                        <table class="w-full border-collapse border border-gray-300">
                            <thead>
                                <tr class="bg-gray-100">
                                    <th class="border border-gray-300 px-4 py-2 text-left">No</th>
                                    <th class="border border-gray-300 px-4 py-2 text-left">Nama Siswa</th>
                                    <th class="border border-gray-300 px-4 py-2 text-center">Hadir</th>
                                    <th class="border border-gray-300 px-4 py-2 text-center">Sakit</th>
                                    <th class="border border-gray-300 px-4 py-2 text-center">Izin</th>
                                    <th class="border border-gray-300 px-4 py-2 text-center">Alpha</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${siswaKelas.map((siswa, index) => `
                                    <tr class="hover:bg-gray-50">
                                        <td class="border border-gray-300 px-4 py-2">${index + 1}</td>
                                        <td class="border border-gray-300 px-4 py-2">${siswa.nama}</td>
                                        <td class="border border-gray-300 px-4 py-2 text-center">
                                            <input type="radio" name="kehadiran_${siswa.id}" value="hadir" class="w-4 h-4 text-green-600" checked>
                                        </td>
                                        <td class="border border-gray-300 px-4 py-2 text-center">
                                            <input type="radio" name="kehadiran_${siswa.id}" value="sakit" class="w-4 h-4 text-red-600">
                                        </td>
                                        <td class="border border-gray-300 px-4 py-2 text-center">
                                            <input type="radio" name="kehadiran_${siswa.id}" value="izin" class="w-4 h-4 text-yellow-600">
                                        </td>
                                        <td class="border border-gray-300 px-4 py-2 text-center">
                                            <input type="radio" name="kehadiran_${siswa.id}" value="alpha" class="w-4 h-4 text-gray-600">
                                        </td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    </div>
                </div>
            `;
        }

        function simpanKehadiran() {
            const tanggal = document.getElementById('tanggalKehadiran').value;
            const kelas = document.getElementById('kelasKehadiran').value;
            
            if (!tanggal || !kelas) {
                showNotification('Pilih tanggal dan kelas terlebih dahulu!', 'error');
                return;
            }
            
            const siswaKelas = siswaWaliData.filter(siswa => siswa.kelas === kelas);
            let updated = 0;
            
            siswaKelas.forEach(siswa => {
                const statusRadio = document.querySelector(`input[name="kehadiran_${siswa.id}"]:checked`);
                if (statusRadio) {
                    const status = statusRadio.value;
                    siswa.kehadiran[status]++;
                    updated++;
                }
            });
            
            updateWaliStats();
            showNotification(`Kehadiran ${updated} siswa kelas ${kelas} berhasil disimpan!`, 'success');
        }

        function showAddCatatanModal() {
            const modal = document.getElementById('addCatatanModal');
            const siswaSelect = document.getElementById('siswaCatatan');
            const today = new Date().toISOString().split('T')[0];
            
            // Populate siswa options
            siswaSelect.innerHTML = '<option value="">Pilih Siswa</option>';
            siswaWaliData.forEach(siswa => {
                siswaSelect.innerHTML += `<option value="${siswa.id}">${siswa.nama} (${siswa.kelas})</option>`;
            });
            
            // Set today's date
            document.getElementById('tanggalCatatan').value = today;
            
            modal.classList.remove('hidden');
        }

        function hideAddCatatanModal() {
            document.getElementById('addCatatanModal').classList.add('hidden');
            document.getElementById('addCatatanForm').reset();
        }

        function handleAddCatatan(e) {
            e.preventDefault();
            
            const siswaId = parseInt(document.getElementById('siswaCatatan').value);
            const siswa = siswaWaliData.find(s => s.id === siswaId);
            
            if (!siswa) {
                showNotification('Pilih siswa terlebih dahulu!', 'error');
                return;
            }
            
            const catatanBaru = {
                id: Date.now(),
                tanggal: document.getElementById('tanggalCatatan').value,
                jenis: document.getElementById('jenisCatatan').value,
                deskripsi: document.getElementById('deskripsiCatatan').value,
                tindakLanjut: document.getElementById('tindakLanjut').value
            };
            
            siswa.catatan.push(catatanBaru);
            updateWaliStats();
            hideAddCatatanModal();
            
            showNotification(`Catatan untuk ${siswa.nama} berhasil ditambahkan!`, 'success');
        }

        function loadCatatanPerilaku() {
            const container = document.getElementById('catatanPerilakuList');
            const allCatatan = [];
            
            siswaWaliData.forEach(siswa => {
                siswa.catatan.forEach(catatan => {
                    allCatatan.push({
                        ...catatan,
                        namaSiswa: siswa.nama,
                        kelas: siswa.kelas
                    });
                });
            });
            
            container.innerHTML = '';
            
            if (allCatatan.length === 0) {
                container.innerHTML = `
                    <div class="bg-white rounded-xl shadow-sm p-8 text-center">
                        <i data-lucide="clipboard-list" class="w-16 h-16 mx-auto text-gray-400 mb-4"></i>
                        <h3 class="text-lg font-semibold text-gray-800 mb-2">Belum Ada Catatan</h3>
                        <p class="text-gray-600 mb-4">Tambahkan catatan perilaku siswa</p>
                        <button onclick="showAddCatatanModal()" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors">
                            Tambah Catatan
                        </button>
                    </div>
                `;
                lucide.createIcons();
                return;
            }
            
            allCatatan.sort((a, b) => new Date(b.tanggal) - new Date(a.tanggal));
            
            allCatatan.forEach(catatan => {
                const jenisColors = {
                    'Positif': 'bg-green-100 text-green-800',
                    'Negatif': 'bg-red-100 text-red-800',
                    'Prestasi': 'bg-purple-100 text-purple-800',
                    'Kedisiplinan': 'bg-blue-100 text-blue-800',
                    'Karakter': 'bg-yellow-100 text-yellow-800'
                };
                
                const card = document.createElement('div');
                card.className = 'bg-white rounded-xl shadow-sm p-6 border-l-4 border-green-500';
                card.innerHTML = `
                    <div class="flex justify-between items-start mb-3">
                        <div>
                            <h4 class="font-semibold text-gray-800">${catatan.namaSiswa}</h4>
                            <p class="text-sm text-gray-500">${catatan.kelas} • ${new Date(catatan.tanggal).toLocaleDateString('id-ID')}</p>
                        </div>
                        <span class="px-2 py-1 rounded-full text-xs font-medium ${jenisColors[catatan.jenis]}">
                            ${catatan.jenis}
                        </span>
                    </div>
                    <p class="text-gray-700 mb-3">${catatan.deskripsi}</p>
                    ${catatan.tindakLanjut ? `
                        <div class="bg-gray-50 rounded-lg p-3">
                            <p class="text-sm font-medium text-gray-700 mb-1">Tindak Lanjut:</p>
                            <p class="text-sm text-gray-600">${catatan.tindakLanjut}</p>
                        </div>
                    ` : ''}
                `;
                container.appendChild(card);
            });
        }

        function loadRekapKehadiran() {
            const periode = document.getElementById('periodeRekap').value;
            const kelas = document.getElementById('kelasRekap').value;
            const container = document.getElementById('rekapKehadiranChart');
            
            // Mock data for demonstration
            container.innerHTML = `
                <div class="bg-white rounded-lg p-6">
                    <h4 class="font-semibold text-gray-800 mb-4">Rekap Kehadiran ${periode.charAt(0).toUpperCase() + periode.slice(1)}</h4>
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                        <div class="text-center">
                            <div class="text-2xl font-bold text-green-600">85%</div>
                            <div class="text-sm text-gray-600">Hadir</div>
                        </div>
                        <div class="text-center">
                            <div class="text-2xl font-bold text-red-600">8%</div>
                            <div class="text-sm text-gray-600">Sakit</div>
                        </div>
                        <div class="text-center">
                            <div class="text-2xl font-bold text-yellow-600">5%</div>
                            <div class="text-sm text-gray-600">Izin</div>
                        </div>
                        <div class="text-center">
                            <div class="text-2xl font-bold text-gray-600">2%</div>
                            <div class="text-sm text-gray-600">Alpha</div>
                        </div>
                    </div>
                    <div class="bg-gray-100 rounded-lg h-64 flex items-center justify-center">
                        <p class="text-gray-500">Grafik kehadiran akan ditampilkan di sini</p>
                    </div>
                </div>
            `;
        }

        function viewSiswaDetail(id) {
            const siswa = siswaWaliData.find(s => s.id === id);
            if (!siswa) return;
            
            showNotification(`Melihat detail siswa ${siswa.nama}`, 'success');
        }

        function editSiswa(id) {
            const siswa = siswaWaliData.find(s => s.id === id);
            if (!siswa) return;
            
            showNotification(`Edit data siswa ${siswa.nama}`, 'success');
        }

        function hubungiOrtu(id) {
            const siswa = siswaWaliData.find(s => s.id === id);
            if (!siswa) return;
            
            showNotification(`Menghubungi orang tua ${siswa.nama}`, 'success');
        }

        // Management Data
        let guruManajemenData = [
            {
                id: 1,
                nama: 'HANANI RISNAYATI, S.Ag',
                nip: '196501011990032001',
                jenisKelamin: 'Perempuan',
                tempatLahir: 'Medan',
                tanggalLahir: '1965-01-01',
                alamat: 'Jl. Sisingamangaraja No. 123, Medan',
                mataPelajaran: 'Pendidikan Agama',
                pendidikan: 'S1',
                jabatan: 'Wali Kelas',
                tahunMasuk: 1990,
                telepon: '081234567890',
                email: 'hanani@sman20medan.sch.id',
                status: 'Aktif'
            },
            {
                id: 2,
                nama: 'MANGASA LUBIS, S.Pd',
                nip: '197203151998021001',
                jenisKelamin: 'Laki-laki',
                tempatLahir: 'Medan',
                tanggalLahir: '1972-03-15',
                alamat: 'Jl. Gatot Subroto No. 456, Medan',
                mataPelajaran: 'Matematika',
                pendidikan: 'S1',
                jabatan: 'Guru',
                tahunMasuk: 1998,
                telepon: '081234567891',
                email: 'mangasa@sman20medan.sch.id',
                status: 'Aktif'
            },
            {
                id: 3,
                nama: 'RISMAWANI, S.Pd',
                nip: '198005102005012002',
                jenisKelamin: 'Perempuan',
                tempatLahir: 'Medan',
                tanggalLahir: '1980-05-10',
                alamat: 'Jl. Pemuda No. 789, Medan',
                mataPelajaran: 'Bahasa Indonesia',
                pendidikan: 'S1',
                jabatan: 'Wali Kelas',
                tahunMasuk: 2005,
                telepon: '081234567892',
                email: 'rismawani@sman20medan.sch.id',
                status: 'Aktif'
            }
        ];

        let siswaManajemenData = [
            {
                id: 1,
                nama: 'AGNES MARGARET MANALU',
                nisn: '0012345678',
                kelas: 'XI-1',
                jenisKelamin: 'Perempuan',
                tempatLahir: 'Medan',
                tanggalLahir: '2007-03-15',
                alamat: 'Jl. Sisingamangaraja No. 123, Medan',
                telepon: '081234567890',
                email: 'agnes.manalu@email.com',
                namaAyah: 'Bapak Manalu',
                pekerjaanAyah: 'Wiraswasta',
                teleponAyah: '081234567891',
                namaIbu: 'Ibu Manalu',
                pekerjaanIbu: 'Ibu Rumah Tangga',
                teleponIbu: '081234567892',
                tahunMasuk: 2022,
                status: 'Aktif'
            },
            {
                id: 2,
                nama: 'ALDI PRAYOGA',
                nisn: '0012345679',
                kelas: 'XI-1',
                jenisKelamin: 'Laki-laki',
                tempatLahir: 'Medan',
                tanggalLahir: '2007-05-20',
                alamat: 'Jl. Gatot Subroto No. 456, Medan',
                telepon: '081234567893',
                email: 'aldi.prayoga@email.com',
                namaAyah: 'Bapak Prayoga',
                pekerjaanAyah: 'PNS',
                teleponAyah: '081234567894',
                namaIbu: 'Ibu Prayoga',
                pekerjaanIbu: 'Guru',
                teleponIbu: '081234567895',
                tahunMasuk: 2022,
                status: 'Aktif'
            }
        ];

        let kelasManajemenData = [
            {
                id: 1,
                nama: 'X-1',
                tingkat: 'X',
                jurusan: 'Umum',
                kapasitas: 36,
                waliKelas: 'HANANI RISNAYATI, S.Ag',
                ruang: 'R.101',
                keterangan: 'Kelas reguler tingkat X',
                jumlahSiswa: 34
            },
            {
                id: 2,
                nama: 'XI-1',
                tingkat: 'XI',
                jurusan: 'IPA',
                kapasitas: 36,
                waliKelas: 'MANGASA LUBIS, S.Pd',
                ruang: 'R.201',
                keterangan: 'Kelas IPA tingkat XI',
                jumlahSiswa: 29
            },
            {
                id: 3,
                nama: 'XII-1',
                tingkat: 'XII',
                jurusan: 'IPA',
                kapasitas: 36,
                waliKelas: 'RISMAWANI, S.Pd',
                ruang: 'R.301',
                keterangan: 'Kelas IPA tingkat XII',
                jumlahSiswa: 32
            }
        ];

        // Management Functions
        function loadManajemenData() {
            loadGuruManajemen();
            loadSiswaManajemen();
            loadKelasManajemen();
            updateManajemenStats();
        }

        function updateManajemenStats() {
            const totalGuru = guruManajemenData.length;
            const totalSiswa = siswaManajemenData.length;
            const totalKelas = kelasManajemenData.length;
            const guruAktif = guruManajemenData.filter(guru => guru.status === 'Aktif').length;
            
            document.getElementById('totalGuruManajemen').textContent = totalGuru;
            document.getElementById('totalSiswaManajemen').textContent = totalSiswa;
            document.getElementById('totalKelasManajemen').textContent = totalKelas;
            document.getElementById('guruAktifManajemen').textContent = guruAktif;
        }

        function showManajemenTab(tabId) {
            // Hide all tab contents
            const tabs = document.querySelectorAll('.tab-content');
            tabs.forEach(tab => tab.classList.add('hidden'));
            
            // Show selected tab
            document.getElementById(tabId + 'Tab').classList.remove('hidden');
            
            // Update active tab
            const tabButtons = document.querySelectorAll('.manajemen-tab');
            tabButtons.forEach(button => {
                button.classList.remove('border-blue-500', 'text-blue-600');
                button.classList.add('border-transparent', 'text-gray-500', 'hover:text-gray-700');
            });
            
            event.target.classList.add('border-blue-500', 'text-blue-600');
            event.target.classList.remove('border-transparent', 'text-gray-500', 'hover:text-gray-700');
            
            // Load content based on tab
            if (tabId === 'guru') {
                loadGuruManajemen();
            } else if (tabId === 'siswa') {
                loadSiswaManajemen();
            } else if (tabId === 'kelas') {
                loadKelasManajemen();
            }
        }

        // Guru Management Functions
        function loadGuruManajemen() {
            const container = document.getElementById('guruManajemenList');
            container.innerHTML = '';
            
            guruManajemenData.forEach(guru => {
                const statusColor = guru.status === 'Aktif' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800';
                
                const card = document.createElement('div');
                card.className = 'bg-white rounded-xl shadow-sm p-6 card-hover border-l-4 border-blue-500';
                card.innerHTML = `
                    <div class="flex justify-between items-start mb-4">
                        <div class="flex-1">
                            <div class="flex items-center space-x-4 mb-2">
                                <h3 class="text-lg font-semibold text-gray-800">${guru.nama}</h3>
                                <span class="px-2 py-1 rounded-full text-xs font-medium ${statusColor}">
                                    ${guru.status}
                                </span>
                            </div>
                            <div class="grid grid-cols-1 gap-2 text-sm text-gray-600 mb-3">
                                <span class="flex items-center">
                                    <i data-lucide="id-card" class="w-4 h-4 mr-1"></i>
                                    NIP: ${guru.nip}
                                </span>
                                <span class="flex items-center">
                                    <i data-lucide="book" class="w-4 h-4 mr-1"></i>
                                    ${guru.mataPelajaran}
                                </span>
                                <span class="flex items-center">
                                    <i data-lucide="briefcase" class="w-4 h-4 mr-1"></i>
                                    ${guru.jabatan}
                                </span>
                                <span class="flex items-center">
                                    <i data-lucide="calendar" class="w-4 h-4 mr-1"></i>
                                    Masuk: ${guru.tahunMasuk}
                                </span>
                            </div>
                            <div class="text-sm text-gray-600">
                                <p><strong>Pendidikan:</strong> ${guru.pendidikan}</p>
                                <p><strong>Email:</strong> ${guru.email}</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="flex space-x-2">
                        <button onclick="viewGuruDetail(${guru.id})" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg text-sm transition-colors">
                            <i data-lucide="eye" class="w-4 h-4 mr-1 inline"></i>
                            Detail
                        </button>
                        <button onclick="editGuru(${guru.id})" class="px-3 py-2 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-lg text-sm transition-colors">
                            <i data-lucide="edit" class="w-4 h-4"></i>
                        </button>
                        <button onclick="hubungiGuru(${guru.id})" class="px-3 py-2 bg-green-100 text-green-700 hover:bg-green-200 rounded-lg text-sm transition-colors">
                            <i data-lucide="phone" class="w-4 h-4"></i>
                        </button>
                    </div>
                `;
                container.appendChild(card);
            });
            
            lucide.createIcons();
        }

        function showAddGuruModal() {
            document.getElementById('addGuruModal').classList.remove('hidden');
        }

        function hideAddGuruModal() {
            document.getElementById('addGuruModal').classList.add('hidden');
            document.getElementById('addGuruForm').reset();
        }

        function handleAddGuru(e) {
            e.preventDefault();
            
            const guruBaru = {
                id: Date.now(),
                nama: document.getElementById('namaGuru').value,
                nip: document.getElementById('nipGuru').value,
                jenisKelamin: document.getElementById('jenisKelaminGuru').value,
                tempatLahir: document.getElementById('tempatLahirGuru').value,
                tanggalLahir: document.getElementById('tanggalLahirGuru').value,
                alamat: document.getElementById('alamatGuru').value,
                mataPelajaran: document.getElementById('mataPelajaranGuru').value,
                pendidikan: document.getElementById('pendidikanGuru').value,
                jabatan: document.getElementById('jabatanGuru').value,
                tahunMasuk: parseInt(document.getElementById('tahunMasukGuru').value),
                telepon: document.getElementById('teleponGuru').value,
                email: document.getElementById('emailGuru').value,
                status: document.getElementById('statusGuru').value
            };
            
            guruManajemenData.push(guruBaru);
            loadGuruManajemen();
            updateManajemenStats();
            hideAddGuruModal();
            
            showNotification(`Data guru ${guruBaru.nama} berhasil ditambahkan!`, 'success');
        }

        function filterGuru() {
            // Implementation for filtering guru
            showNotification('Filter guru diterapkan', 'success');
        }

        function searchGuruData() {
            const searchTerm = document.getElementById('searchGuru').value.toLowerCase();
            const cards = document.querySelectorAll('#guruManajemenList .card-hover');
            
            cards.forEach(card => {
                const nama = card.querySelector('h3').textContent.toLowerCase();
                if (nama.includes(searchTerm)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        function viewGuruDetail(id) {
            const guru = guruManajemenData.find(g => g.id === id);
            if (!guru) return;
            
            showNotification(`Melihat detail guru ${guru.nama}`, 'success');
        }

        function editGuru(id) {
            const guru = guruManajemenData.find(g => g.id === id);
            if (!guru) return;
            
            showNotification(`Edit data guru ${guru.nama}`, 'success');
        }

        function hubungiGuru(id) {
            const guru = guruManajemenData.find(g => g.id === id);
            if (!guru) return;
            
            showNotification(`Menghubungi ${guru.nama}`, 'success');
        }

        // Siswa Management Functions
        function loadSiswaManajemen() {
            const container = document.getElementById('siswaManajemenList');
            container.innerHTML = '';
            
            siswaManajemenData.forEach(siswa => {
                const statusColor = siswa.status === 'Aktif' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800';
                
                const card = document.createElement('div');
                card.className = 'bg-white rounded-xl shadow-sm p-6 card-hover border-l-4 border-green-500';
                card.innerHTML = `
                    <div class="flex justify-between items-start mb-4">
                        <div class="flex-1">
                            <div class="flex items-center space-x-4 mb-2">
                                <h3 class="text-lg font-semibold text-gray-800">${siswa.nama}</h3>
                                <span class="px-2 py-1 rounded-full text-xs font-medium ${statusColor}">
                                    ${siswa.status}
                                </span>
                            </div>
                            <div class="grid grid-cols-1 gap-2 text-sm text-gray-600 mb-3">
                                <span class="flex items-center">
                                    <i data-lucide="id-card" class="w-4 h-4 mr-1"></i>
                                    NISN: ${siswa.nisn}
                                </span>
                                <span class="flex items-center">
                                    <i data-lucide="home" class="w-4 h-4 mr-1"></i>
                                    Kelas: ${siswa.kelas}
                                </span>
                                <span class="flex items-center">
                                    <i data-lucide="user" class="w-4 h-4 mr-1"></i>
                                    ${siswa.jenisKelamin}
                                </span>
                                <span class="flex items-center">
                                    <i data-lucide="calendar" class="w-4 h-4 mr-1"></i>
                                    Masuk: ${siswa.tahunMasuk}
                                </span>
                            </div>
                            <div class="text-sm text-gray-600">
                                <p><strong>Tempat Lahir:</strong> ${siswa.tempatLahir}</p>
                                <p><strong>Email:</strong> ${siswa.email}</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="flex space-x-2">
                        <button onclick="viewSiswaManajemenDetail(${siswa.id})" class="flex-1 bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded-lg text-sm transition-colors">
                            <i data-lucide="eye" class="w-4 h-4 mr-1 inline"></i>
                            Detail
                        </button>
                        <button onclick="editSiswaManajemen(${siswa.id})" class="px-3 py-2 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-lg text-sm transition-colors">
                            <i data-lucide="edit" class="w-4 h-4"></i>
                        </button>
                        <button onclick="hubungiOrtuManajemen(${siswa.id})" class="px-3 py-2 bg-blue-100 text-blue-700 hover:bg-blue-200 rounded-lg text-sm transition-colors">
                            <i data-lucide="phone" class="w-4 h-4"></i>
                        </button>
                    </div>
                `;
                container.appendChild(card);
            });
            
            lucide.createIcons();
        }

        function showAddSiswaManajemenModal() {
            document.getElementById('addSiswaManajemenModal').classList.remove('hidden');
        }

        function hideAddSiswaManajemenModal() {
            document.getElementById('addSiswaManajemenModal').classList.add('hidden');
            document.getElementById('addSiswaManajemenForm').reset();
        }

        function handleAddSiswaManajemen(e) {
            e.preventDefault();
            
            const siswaBaru = {
                id: Date.now(),
                nama: document.getElementById('namaSiswaManajemen').value,
                nisn: document.getElementById('nisnSiswaManajemen').value,
                kelas: document.getElementById('kelasSiswaManajemen').value,
                jenisKelamin: document.getElementById('jenisKelaminSiswaManajemen').value,
                tempatLahir: document.getElementById('tempatLahirSiswaManajemen').value,
                tanggalLahir: document.getElementById('tanggalLahirSiswaManajemen').value,
                alamat: document.getElementById('alamatSiswaManajemen').value,
                telepon: document.getElementById('teleponSiswaManajemen').value,
                email: document.getElementById('emailSiswaManajemen').value,
                namaAyah: document.getElementById('namaAyahManajemen').value,
                pekerjaanAyah: document.getElementById('pekerjaanAyahManajemen').value,
                teleponAyah: document.getElementById('teleponAyahManajemen').value,
                namaIbu: document.getElementById('namaIbuManajemen').value,
                pekerjaanIbu: document.getElementById('pekerjaanIbuManajemen').value,
                teleponIbu: document.getElementById('teleponIbuManajemen').value,
                tahunMasuk: parseInt(document.getElementById('tahunMasukSiswa').value),
                status: document.getElementById('statusSiswaManajemen').value
            };
            
            siswaManajemenData.push(siswaBaru);
            loadSiswaManajemen();
            updateManajemenStats();
            hideAddSiswaManajemenModal();
            
            showNotification(`Data siswa ${siswaBaru.nama} berhasil ditambahkan!`, 'success');
        }

        function filterSiswa() {
            // Implementation for filtering siswa
            showNotification('Filter siswa diterapkan', 'success');
        }

        function searchSiswaData() {
            const searchTerm = document.getElementById('searchSiswaManajemen').value.toLowerCase();
            const cards = document.querySelectorAll('#siswaManajemenList .card-hover');
            
            cards.forEach(card => {
                const nama = card.querySelector('h3').textContent.toLowerCase();
                if (nama.includes(searchTerm)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        function viewSiswaManajemenDetail(id) {
            const siswa = siswaManajemenData.find(s => s.id === id);
            if (!siswa) return;
            
            showNotification(`Melihat detail siswa ${siswa.nama}`, 'success');
        }

        function editSiswaManajemen(id) {
            const siswa = siswaManajemenData.find(s => s.id === id);
            if (!siswa) return;
            
            showNotification(`Edit data siswa ${siswa.nama}`, 'success');
        }

        function hubungiOrtuManajemen(id) {
            const siswa = siswaManajemenData.find(s => s.id === id);
            if (!siswa) return;
            
            showNotification(`Menghubungi orang tua ${siswa.nama}`, 'success');
        }

        // Kelas Management Functions
        function loadKelasManajemen() {
            const container = document.getElementById('kelasManajemenList');
            container.innerHTML = '';
            
            kelasManajemenData.forEach(kelas => {
                const persentaseKapasitas = Math.round((kelas.jumlahSiswa / kelas.kapasitas) * 100);
                const kapasitasColor = persentaseKapasitas >= 90 ? 'text-red-600' : 
                                     persentaseKapasitas >= 75 ? 'text-yellow-600' : 'text-green-600';
                
                const card = document.createElement('div');
                card.className = 'bg-white rounded-xl shadow-sm p-6 card-hover border-l-4 border-purple-500';
                card.innerHTML = `
                    <div class="flex justify-between items-start mb-4">
                        <div class="flex-1">
                            <div class="flex items-center space-x-4 mb-2">
                                <h3 class="text-lg font-semibold text-gray-800">${kelas.nama}</h3>
                                <span class="px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800">
                                    ${kelas.jurusan}
                                </span>
                            </div>
                            <div class="grid grid-cols-1 gap-2 text-sm text-gray-600 mb-3">
                                <span class="flex items-center">
                                    <i data-lucide="layers" class="w-4 h-4 mr-1"></i>
                                    Tingkat: ${kelas.tingkat}
                                </span>
                                <span class="flex items-center">
                                    <i data-lucide="user-check" class="w-4 h-4 mr-1"></i>
                                    Wali: ${kelas.waliKelas}
                                </span>
                                <span class="flex items-center">
                                    <i data-lucide="map-pin" class="w-4 h-4 mr-1"></i>
                                    Ruang: ${kelas.ruang}
                                </span>
                                <span class="flex items-center ${kapasitasColor}">
                                    <i data-lucide="users" class="w-4 h-4 mr-1"></i>
                                    ${kelas.jumlahSiswa}/${kelas.kapasitas} siswa (${persentaseKapasitas}%)
                                </span>
                            </div>
                            <div class="text-sm text-gray-600">
                                <p><strong>Keterangan:</strong> ${kelas.keterangan}</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="flex space-x-2">
                        <button onclick="viewKelasDetail(${kelas.id})" class="flex-1 bg-purple-600 hover:bg-purple-700 text-white px-3 py-2 rounded-lg text-sm transition-colors">
                            <i data-lucide="eye" class="w-4 h-4 mr-1 inline"></i>
                            Detail
                        </button>
                        <button onclick="editKelas(${kelas.id})" class="px-3 py-2 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-lg text-sm transition-colors">
                            <i data-lucide="edit" class="w-4 h-4"></i>
                        </button>
                        <button onclick="lihatSiswaKelas(${kelas.id})" class="px-3 py-2 bg-blue-100 text-blue-700 hover:bg-blue-200 rounded-lg text-sm transition-colors">
                            <i data-lucide="users" class="w-4 h-4"></i>
                        </button>
                    </div>
                `;
                container.appendChild(card);
            });
            
            lucide.createIcons();
        }

        function showAddKelasModal() {
            document.getElementById('addKelasModal').classList.remove('hidden');
        }

        function hideAddKelasModal() {
            document.getElementById('addKelasModal').classList.add('hidden');
            document.getElementById('addKelasForm').reset();
        }

        function handleAddKelas(e) {
            e.preventDefault();
            
            const kelasBaru = {
                id: Date.now(),
                nama: document.getElementById('namaKelas').value,
                tingkat: document.getElementById('tingkatKelas').value,
                jurusan: document.getElementById('jurusanKelas').value,
                kapasitas: parseInt(document.getElementById('kapasitasKelas').value),
                waliKelas: document.getElementById('waliKelas').value,
                ruang: document.getElementById('ruangKelas').value,
                keterangan: document.getElementById('keteranganKelas').value || 'Tidak ada keterangan',
                jumlahSiswa: 0
            };
            
            kelasManajemenData.push(kelasBaru);
            loadKelasManajemen();
            updateManajemenStats();
            hideAddKelasModal();
            
            showNotification(`Data kelas ${kelasBaru.nama} berhasil ditambahkan!`, 'success');
        }

        function viewKelasDetail(id) {
            const kelas = kelasManajemenData.find(k => k.id === id);
            if (!kelas) return;
            
            showNotification(`Melihat detail kelas ${kelas.nama}`, 'success');
        }

        function editKelas(id) {
            const kelas = kelasManajemenData.find(k => k.id === id);
            if (!kelas) return;
            
            showNotification(`Edit data kelas ${kelas.nama}`, 'success');
        }

        function lihatSiswaKelas(id) {
            const kelas = kelasManajemenData.find(k => k.id === id);
            if (!kelas) return;
            
            showNotification(`Melihat siswa kelas ${kelas.nama}`, 'success');
        }

        // Close modals when clicking outside
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('modal-backdrop')) {
                hideAddKegiatanModal();
                hideKebiasaanModal();
                hideAddModulModal();
                hideViewModulModal();
                hideAddJurnalModal();
                hideViewJurnalModal();
                hideAddAbsensiModal();
                hideAddSiswaModal();
                hideAddCatatanModal();
                hideAddGuruModal();
                hideAddSiswaManajemenModal();
                hideAddKelasModal();
            }
        });

        // Add event listener for absensi form
        document.getElementById('addAbsensiForm').addEventListener('submit', handleAddAbsensi);
        
        // Add event listeners for wali forms
        document.getElementById('addSiswaForm').addEventListener('submit', handleAddSiswa);
        document.getElementById('addCatatanForm').addEventListener('submit', handleAddCatatan);
        
        // Add event listeners for management forms
        document.getElementById('addGuruForm').addEventListener('submit', handleAddGuru);
        document.getElementById('addSiswaManajemenForm').addEventListener('submit', handleAddSiswaManajemen);
        document.getElementById('addKelasForm').addEventListener('submit', handleAddKelas);
        
        // Initialize management data
        loadManajemenData();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98f4be62f2139de3',t:'MTc2MDU4ODIxNy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
